import{a as V,s as D}from"./index-Z2YNGKhZ.js";import{s as k}from"./index-D49h5Cbk.js";import{K as H,U as j,A as m,W as $,e as I,p as t,h as a,l as i,P as L,G as B,F as U,o as M,a0 as r,t as T}from"./index-BCdxernO.js";import{s as E}from"./index-WWuz9eST.js";import{s as P}from"./index-DhHuXiFi.js";import{s as S}from"./index-Dsa_8OmY.js";import{s as z}from"./index-BE87lW_G.js";import{A}from"./apiBase-DJzL_JWR.js";import{i as F}from"./common-Ctgf_4Dl.js";import{e as G}from"./exportToExcel-BIsrPQTg.js";import K from"./ClientDetailPop-Pv2S--Dl.js";import"./index-CKfU0QJd.js";import"./index-BGn1OEmN.js";import"./index-CEOpAmiF.js";import"./apiCommon-DQdCmI3G.js";import"./errorHandler-DOdEIoRq.js";import"./UserListPop-40qvmJxy.js";import"./apiSystem-BBpYMteA.js";const O={class:"flex flex-wrap items-center gap-2 w-full"},R={class:"flex items-center justify-end gap-2 mb-2"},W=["onClick"],q={__name:"ClientList",setup(J){const _=j(),c=m([]),f=m(null),o=$({strDate:"",toDate:"",clientName:"",saleManagerName:"",businessNo:""}),b=async()=>{const n={...o};c.value=await A.getClientList(n)},x=n=>{let e="고객사 등록";F(n)||(e="고객사 상세"),_.open(K,{props:{header:e,width:"700px",modal:!0,draggable:!0,style:{overflow:"hidden"},pt:{content:{style:{maxHeight:"calc(90vh - 4rem)",overflow:"auto"}}},closable:!0,resizable:!1},data:n,onClose:y=>{b()}})},g=m({icon:"pi pi-home"}),v=m([{label:"영업관리"},{label:"고객사관리"},{label:"고객사목록"}]),h=()=>{var e;const n=((e=f.value)==null?void 0:e.columns)??[];n.length&&G(customerList.value,"고객사 리스트",n)};return(n,e)=>{const y=z,w=S,d=P,p=E,u=B,C=k,s=D,N=V;return M(),I(U,null,[t(y,{home:g.value,model:v.value},null,8,["home","model"]),a("form",{onSubmit:L(b,["prevent"]),class:"space-y-4"},[t(C,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:i(()=>[a("div",O,[t(d,{variant:"on"},{default:i(()=>[t(w,{modelValue:o.strDate,"onUpdate:modelValue":e[0]||(e[0]=l=>o.strDate=l),inputId:"on_label",showIcon:"",iconDisplay:"input"},null,8,["modelValue"]),e[6]||(e[6]=a("label",{for:"on_label"},"시작",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(w,{modelValue:o.toDate,"onUpdate:modelValue":e[1]||(e[1]=l=>o.toDate=l),inputId:"on_label",showIcon:"",iconDisplay:"input"},null,8,["modelValue"]),e[7]||(e[7]=a("label",{for:"on_label"},"종료",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(p,{id:"on_label1",modelValue:o.clientName,"onUpdate:modelValue":e[2]||(e[2]=l=>o.clientName=l),style:{width:"200px"}},null,8,["modelValue"]),e[8]||(e[8]=a("label",{for:"on_label1"},"고객사명",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(p,{id:"on_label1",modelValue:o.businessNo,"onUpdate:modelValue":e[3]||(e[3]=l=>o.businessNo=l),style:{width:"180px"}},null,8,["modelValue"]),e[9]||(e[9]=a("label",{for:"on_label1"},"사업자번호",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(p,{id:"on_label1",modelValue:o.saleManagerName,"onUpdate:modelValue":e[4]||(e[4]=l=>o.saleManagerName=l),style:{width:"180px"}},null,8,["modelValue"]),e[10]||(e[10]=a("label",{for:"on_label1"},"영업담당자",-1))]),_:1}),t(u,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),a("div",R,[t(u,{label:"신규",icon:"pi pi-file-excel",onClick:e[5]||(e[5]=l=>x(""))}),t(u,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:h})]),a("div",null,[t(N,{ref_key:"dt",ref:f,value:c.value,paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"650px",scrollable:"",showGridlines:"",tableStyle:"min-width: 100rem; table-layout: fixed;",class:"my-table"},{default:i(()=>[t(s,{field:"rowNum",header:"No.",style:r([{"text-align":"center"},{width:"30px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"businessNo",header:"고객사코드",style:r([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"customerName",header:"고객사명",frozen:"",style:r([{width:"200px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:i(l=>[a("div",{onClick:Q=>x(l.data.clientId),class:"clickable-cell"},T(l.data.clientName),9,W)]),_:1}),t(s,{field:"president",header:"대표자명",style:r([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"saleManagerName",header:"영업담자명",style:r([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"paymentCondition",header:"결제조건",style:r([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"firstDelaDate",header:"최초거래일자",style:r([{"text-align":"center"},{width:"120px"}]),pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"tradeType",header:"거래구분",style:r([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value"])])],64)}}},be=H(q,[["__scopeId","data-v-4fc27eb0"]]);export{be as default};
