import{K as g,A as a,W as I,i as L,o as j,l as f,h as n,P,p as e,G as B,a0 as w,e as A,a7 as G,F as M}from"./index-BCdxernO.js";import{a as k,s as N}from"./index-Z2YNGKhZ.js";import{s as U}from"./index-BGn1OEmN.js";import{s as D}from"./index-BE87lW_G.js";import{s as F}from"./index-CEOpAmiF.js";import{_ as q}from"./FormatFiled-DaFp4UAA.js";import{A as z}from"./apiLab-DBKUW3x6.js";import"./index-CKfU0QJd.js";import"./index-WWuz9eST.js";import"./index-DhHuXiFi.js";import"./index-CLRf2YcQ.js";import"./index-Dsa_8OmY.js";const E={class:"flex flex-column h-full"},O={class:"search-section"},Q={class:"search-field"},R={class:"search-field"},T={class:"list-section mt-3"},Y={class:"list-wrapper"},K={class:"flex gap-2 justify-end pt-3"},W={__name:"BomListPop",emits:["selected","close"],setup(V,{emit:u}){const r=u,i=a([]),h=a([]),d=I({itemCd:"",itemName:"",defaultYn:"Y",approvalState:"Y"}),x=async()=>{const v={...d};h.value=await z.getBomList(v)},b=()=>{r("selected",i.value)};return(v,s)=>{const C=q,y=B,p=N,c=k,o=F;return j(),L(o,{style:{width:"50rem",height:"48rem"}},{content:f(()=>[n("div",E,[n("div",O,[n("form",{onSubmit:P(x,["prevent"]),class:"search-form"},[n("div",Q,[e(C,{modelValue:d.itemCd,"onUpdate:modelValue":s[0]||(s[0]=l=>d.itemCd=l),type:"text",label:"품목코드",style:{width:"150px"}},null,8,["modelValue"])]),n("div",R,[e(C,{modelValue:d.itemName,"onUpdate:modelValue":s[1]||(s[1]=l=>d.itemName=l),type:"text",label:"품목명",style:{width:"250px"}},null,8,["modelValue"])]),e(y,{label:"검색",icon:"pi pi-search",severity:"secondary",type:"submit",class:"search-button"})],32)]),n("div",T,[n("div",Y,[e(c,{selection:i.value,"onUpdate:selection":s[2]||(s[2]=l=>i.value=l),value:h.value,dataKey:"bomId",paginator:"",rows:20,rowsPerPageOptions:[20,30,40],tableStyle:"table-layout: fixed; width: 100%",columnResizeMode:"fit",class:"my-table h-full",scrollable:"",scrollHeight:"flex",showGridlines:""},{default:f(()=>[e(p,{selectionMode:"multiple",headerStyle:"width: 3rem",pt:{columnHeaderContent:"justify-center"}}),e(p,{field:"itemCd",header:"품목코드",style:w([{width:"120px"},{"text-align":"center"}]),pt:{columnHeaderContent:"justify-center"}}),e(p,{field:"itemName",header:"품목명",style:w([{width:"360px"},{"text-align":"left"}]),pt:{columnHeaderContent:"justify-center"}}),e(p,{field:"bomVer",header:"BOM버전",style:w([{width:"120px"},{"text-align":"center"}]),pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["selection","value"])])]),n("div",K,[e(y,{label:"선택",class:"btn-use",onClick:b}),e(y,{label:"닫기",onClick:s[3]||(s[3]=l=>r("close"))})])])]),_:1})}}},J=g(W,[["__scopeId","data-v-c744c743"]]),X={class:"mt-2 mb-3 flex gap-2"},Z={class:"table-wrapper"},ee={__name:"Equirement_Calculation",setup(V){const u=a(!1),r=a([]),i=a([]),h=a([]),d=()=>{},x=()=>{u.value=!0},b=c=>{Array.isArray(c)&&C(c)},v=()=>{},s=()=>{i.value="",h.value=""},C=c=>{const o=c.map((l,_)=>({itemCd:l.itemCd,bomVer:l.bomVer,itemName:l.itemName,unit:l.unit,qty:0,etc:l.etc}));i.value.length>0?i.value.push(...o):i.value=[...o]},y=a({icon:"pi pi-home"}),p=a([{label:"제조관리"},{label:"소요량계산(원재료)"}]);return(c,o)=>{const l=D,_=B,t=N,$=U,H=k,S=G;return j(),A(M,null,[e(l,{home:y.value,model:p.value},null,8,["home","model"]),n("div",null,[n("div",X,[e(_,{label:"품목추가",onClick:x}),e(_,{label:"품목삭제",class:"btn-del mr-4",onClick:d}),e(_,{label:"초기화",onClick:s}),e(_,{label:"계산하기",onClick:v})])]),n("div",Z,[e(H,{selection:r.value,"onUpdate:selection":o[0]||(o[0]=m=>r.value=m),value:i.value,"selection-mode":"multiple","data-key":"itemCd",class:"my-table",scrollHeight:"400px",showGridlines:""},{default:f(()=>[e(t,{selectionMode:"multiple",headerStyle:"width: 1rem",style:{"text-align":"center"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"itemCd",header:"품목코드",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"bomVer",header:"BOM버전",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"itemName",header:"품목명",style:{width:"380px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"unit",header:"단위",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"qty",header:"생산량",style:{width:"140px"},pt:{columnHeaderContent:"justify-center"}},{body:f(m=>[e($,{class:"w-full",min:0,maxFractionDigits:0,useGrouping:!0,inputStyle:{width:"120px","text-align":"right"}})]),_:1}),e(t,{field:"etc",header:"비고",style:{width:"130px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["selection","value"])]),n("div",null,[e(H,{selection:r.value,"onUpdate:selection":o[1]||(o[1]=m=>r.value=m),value:h.value,"data-key":"itemCd",class:"my-table",scrollHeight:"600px",showGridlines:""},{default:f(()=>[e(t,{field:"itemCd",header:"품목코드",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"itemTypeName",header:"품목구분",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"itemName",header:"품목명",style:{width:"300px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"spec",header:"규격",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"stockQty",header:"재고수량(A)",style:{width:"130px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"orderQty",header:"발주(입고예정)",style:{width:"130px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"calculation",header:"소요량(B)",style:{width:"130px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"differenceQty",header:"차이(A-B)",style:{width:"130px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"customrerName",header:"구매처",style:{width:"200px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"itemGrp1",header:"사급/자급",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),e(t,{field:"inPrice",header:"단가",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["selection","value"])]),e(S,{visible:u.value,"onUpdate:visible":o[3]||(o[3]=m=>u.value=m),header:"품목조회",modal:"",draggable:!1,resizable:!1,breakpoints:{},style:{width:"52rem",maxWidth:"70rem"},contentStyle:{height:"38rem",overflow:"hidden"}},{default:f(()=>[e(J,{onSelected:b,onClose:o[2]||(o[2]=m=>u.value=!1)})]),_:1},8,["visible"])],64)}}},pe=g(ee,[["__scopeId","data-v-d9e0f702"]]);export{pe as default};
