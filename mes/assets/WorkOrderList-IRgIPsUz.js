import{J as $,_ as B,a as E,r as c,k as T,m as j,A as J,c as v,g as e,d as r,w as n,F as V,e as K,o as f,j as P,i as O,f as x,t as y,n as z}from"./index-WOYElqRf.js";import{d as G,n as H,e as m}from"./common-DT3ZdnD0.js";import{e as Q}from"./exportToExcel-Kkbtezxo.js";import"./format-DWu4U6B8.js";import"./_commonjsHelpers-CZnAS8i4.js";const X={getWorkOrderList:async k=>{try{return(await $.post("/workOrder/getWorkOrderList",k)).data}catch(s){throw s.response}}},Y=["onClick"],Z=["onClick"],ee={__name:"WorkOrderList",setup(k){const{userId:s}=E(),N=K(),w=c(""),h=c([]),g=c([]),a=T({fromDate:"",toDate:"",areaCd:"",itemName:"",itemCd:"",cutomerName:"",userId:s}),b=c([{title:"일자-No",key:"workOrderDateSeq",align:"center",width:"100px"},{title:"구역",key:"areaName",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"380px"},{title:"제조일자",key:"itemCd",align:"center",width:"120px"},{title:"주문량",key:"expectedDueDate",align:"center",width:"90px"},{title:"등록배치수",key:"orderType",align:"center",width:"80px"},{title:"납품처명",key:"clientName",align:"center",width:"200px"},{title:"담당자명",key:"managerName",align:"center",width:"100px"},{title:"비고",key:"etc",align:"center",width:"80px"}]),C=async()=>{const l={...a};l.fromDate=m(a.fromDate),l.toDate=m(a.toDate),h.value=await X.getWorkOrderList(l)},L=(l,o)=>{N.push({name:"WorkOrderDetail",params:{id:l.workOrderId}})};j(async()=>{g.value=await J.getCodeList("area"),a.fromDate=G(),a.toDate=H(a.fromDate),C()});const S=()=>{Q(b,WorkOrderList.value,"작업지시_목록")};return(l,o)=>{const W=r("v-breadcrumbs"),D=r("v-date-input"),U=r("v-select"),p=r("v-text-field"),i=r("v-btn"),u=r("v-col"),A=r("v-form"),_=r("v-row"),I=r("v-card-text"),R=r("v-card"),q=r("v-spacer"),F=r("v-data-table");return f(),v(V,null,[e(W,{items:["MES","작업지시","작업지시조회"],class:"custom-breadcrumbs"}),e(R,{class:"pa-1",style:{height:"60px"}},{default:n(()=>[e(I,null,{default:n(()=>[e(_,null,{default:n(()=>[e(A,{ref_key:"srhForm",ref:w,onSubmit:P(C,["prevent"])},{default:n(()=>[e(u,{class:"d-flex flex-row ga-3"},{default:n(()=>[e(D,{label:"시작일자","display-format":O(m),density:"compact",variant:"underlined","prepend-icon":"","append-inner-icon":"mdi-calendar",style:{width:"150px"}},null,8,["display-format"]),e(D,{label:"종료일자",modelValue:a.toDate,"onUpdate:modelValue":o[0]||(o[0]=t=>a.toDate=t),"display-format":O(m),density:"compact",variant:"underlined","prepend-icon":"","append-inner-icon":"mdi-calendar",style:{width:"150px"}},null,8,["modelValue","display-format"]),e(U,{modelValue:a.areaCd,"onUpdate:modelValue":o[1]||(o[1]=t=>a.areaCd=t),label:"생산처(공장)",density:"compact",items:g.value,"item-title":"codeNm","item-value":"code",variant:"underlined",style:{width:"150px"}},null,8,["modelValue","items"]),e(p,{modelValue:a.itemName,"onUpdate:modelValue":o[2]||(o[2]=t=>a.itemName=t),density:"compact",label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),e(p,{modelValue:a.itemCd,"onUpdate:modelValue":o[3]||(o[3]=t=>a.itemCd=t),density:"compact",label:"품목코드",placeholder:"품목코드를 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),e(p,{modelValue:a.cutomerName,"onUpdate:modelValue":o[4]||(o[4]=t=>a.cutomerName=t),density:"compact",label:"납품처명",placeholder:"납품처명을 입력해주세요",variant:"underlined",style:{width:"150px"}},null,8,["modelValue"]),e(i,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(i,{text:"초기화",onClick:o[5]||(o[5]=t=>w.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(q),e(_,null,{default:n(()=>[e(u,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:n(()=>[e(i,{color:"brown-lighten-4",text:"신규",onClick:L}),e(i,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:S})]),_:1})]),_:1}),e(_,null,{default:n(()=>[e(u,{class:"pa-0"},{default:n(()=>[e(F,{headers:b.value,items:h.value,density:"compact","fixed-header":"",height:"690px"},{headers:n(({columns:t})=>[x("tr",null,[(f(!0),v(V,null,z(t,d=>(f(),v("th",{key:d.key,class:"custom-header"},y(d.title),1))),128))])]),"item.workOrderDateSeq":n(({item:t,index:d})=>[x("div",{style:{cursor:"pointer","text-decoration":"underline",width:"95%"},onClick:M=>l.selectRowClick(t,d)},y(t.workOrderDateSeq),9,Y)]),"item.itemName":n(({item:t,index:d})=>[x("div",{style:{cursor:"pointer","text-decoration":"underline",width:"95%"},onClick:M=>l.selectRowClick(t,d)},y(t.workOrderDateSeq),9,Z)]),_:1},8,["headers","items"])]),_:1})]),_:1})],64)}}},le=B(ee,[["__scopeId","data-v-b4e416a6"]]);export{le as default};
