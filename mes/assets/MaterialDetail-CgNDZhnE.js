import{_ as D,u as F,r as _,m as $,d as n,b as U,o as v,w as t,g as e,j,f as p,c as y,F as I,x as V,t as A,y as M}from"./index-BNL3Tgw5.js";import{A as P}from"./apiLab-C1R8vX2g.js";const z={class:"d-flex ga-4 ml-4"},q={style:{height:"40px"}},G={class:"d-flex ga-4 justify-end"},H={__name:"IngredientListPop",emits:["selected","close-dialog"],setup(L,{emit:c}){const{vError:f}=F(),w=c,i=_([]),x=_(""),k=_(!1),b=[{title:"성분코드",key:"ingredientCode",width:100},{title:"국문성분명",key:"krIngredientName",width:200},{title:"영문성분명",key:"enIngredientName",width:200},{title:"CAS No",key:"casNo",width:100},{title:"function",key:"functionNm",width:150}],a=$({ingredientName:"",functionNm:""}),l=()=>{k.value=!0;try{const d={...a};i.value=P.getIngredientList(d)}catch(d){f(d)}finally{k.value=!1}},N=()=>{x.value.remove()};return(d,o)=>{const h=n("v-card-item"),g=n("v-text-field"),u=n("v-btn"),C=n("v-form"),s=n("v-col"),r=n("v-row"),E=n("v-data-table"),B=n("v-card");return v(),U(B,{class:"pa-3"},{default:t(()=>[e(h,{title:"성분 조회",style:{height:"30px"}}),e(r,null,{default:t(()=>[e(s,{class:"mt-7",style:{height:"20px",padding:"3px"}},{default:t(()=>[e(C,{ref_key:"srhForm",ref:x,onSubmit:j(l,["prevent"])},{default:t(()=>[p("div",z,[e(g,{modelValue:a.ingredientName,"onUpdate:modelValue":o[0]||(o[0]=m=>a.ingredientName=m),label:"성분명",placeholder:"성분명을 입력해주세요",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(g,{modelValue:a.functionNm,"onUpdate:modelValue":o[1]||(o[1]=m=>a.functionNm=m),label:"function명",placeholder:"function명을 입력해주세요",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(u,{color:"#EFEBE9",class:"mt-2",type:"submit",density:"compact",text:"조회"}),e(u,{onClick:N,class:"mt-2",density:"compact",text:"초기화"})])]),_:1},512)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(s,{class:"mt-5"},{default:t(()=>[e(E,{headers:b,items:i.value,style:{height:"600px"}},{headers:t(({columns:m})=>[p("tr",q,[(v(!0),y(I,null,V(m,S=>(v(),y("th",{key:S.key,class:"custom-header",style:{height:"40px"}},A(S.title),1))),128))])]),_:1},8,["items"])]),_:1})]),_:1}),e(r,{class:"mt-10",style:{height:"70px"}},{default:t(()=>[e(s,null,{default:t(()=>[p("div",G,[e(u,{text:"선택",color:"brown-lighten-4"}),e(u,{text:"닫기",variant:"tonal",onClick:o[2]||(o[2]=m=>w("close-dialog"))})])]),_:1})]),_:1})]),_:1})}}},J=D(H,[["__scopeId","data-v-6993aa3c"]]),K={class:"d-flex ga-4 justify-end"},O={style:{height:"30px","background-color":"#BCAAA4"}},T={__name:"MaterialDetail",setup(L){const c=_(!1),f=_([]),w=[{title:"성분코드",key:"ingredientCode",width:100},{title:"국문성분명",key:"krIngredientName",width:200},{title:"영어성분명",key:"enIngredientName",width:200},{title:"국내함량",key:"DomesticContent",width:100},{title:"수출용함량",key:"ExportContent",width:100},{title:"CAS No",key:"casNo",width:100},{title:"function",key:"functionNm",width:100},{title:"한도 국가",key:"limitCountry",width:80},{title:"금지 국가",key:"banCountry",width:80}],i=_([]),x=()=>{console.log("Selected Items:",i.value);const a=i.value.map(l=>l.id);console.log("Selected IDs:",a),f.value=f.value.filter(l=>!a.includes(l.id)),i.value=[]},k=()=>{},b=()=>{c.value=!0};return(a,l)=>{const N=n("v-breadcrumbs"),d=n("v-card"),o=n("v-col"),h=n("v-row"),g=n("v-btn"),u=n("v-data-table-virtual"),C=n("v-dialog");return v(),y(I,null,[e(N,{items:["MES","연구관리","원료상세"]}),e(d),e(d,null,{title:t(()=>l[3]||(l[3]=[p("span",{class:"font-weight-black"},"품목코드 상세등록",-1)])),default:t(()=>[e(h,null,{default:t(()=>[e(o)]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(o,null,{default:t(()=>[p("div",K,[e(g,{color:"brown-lighten-4",class:"mt-3",text:"추가+",onClick:b}),e(g,{class:"mt-3 mr-3",onClick:x,text:"삭제+"})])]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(o,null,{default:t(()=>[e(u,{headers:w,items:f.value,"item-value":"id","show-select":"",selected:i.value,"onUpdate:selected":l[0]||(l[0]=s=>i.value=s)},{headers:t(({columns:s})=>[p("tr",O,[(v(!0),y(I,null,V(s,r=>(v(),y("th",{key:r.key,style:M([{width:r.width+"px",height:"30px",textAlign:"center"},{border:"1px solid #ccc"}])},A(r.title),5))),128))])]),_:1},8,["items","selected"])]),_:1})]),_:1}),e(C,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=s=>c.value=s),"max-width":"800px",persistent:""},{default:t(()=>[e(J,{onSaved:k,onCloseDialog:l[1]||(l[1]=s=>c.value=!1)})]),_:1},8,["modelValue"])],64)}}};export{T as default};
