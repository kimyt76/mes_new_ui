import{s as D}from"./index-CEOpAmiF.js";import{M as S,L as q,A as r,W as x,J as $,H as R,V as T,i as k,l as s,o as Y,h as e,p as t,G as B}from"./index-BCdxernO.js";import{s as j}from"./index-CLRf2YcQ.js";import{s as E}from"./index-BGn1OEmN.js";import{s as P}from"./index-Dsa_8OmY.js";import{s as Q}from"./index-CKfU0QJd.js";import{s as z}from"./index-DhHuXiFi.js";import{s as F}from"./index-WWuz9eST.js";import{A as b}from"./apiCommon-DQdCmI3G.js";import{A as f}from"./apiLab-DBKUW3x6.js";import{d as G,i as N}from"./common-Ctgf_4Dl.js";const H={class:"grid mb-3"},J={class:"col-3"},K={class:"col-3"},O={class:"col-6"},W={class:"grid mb-3"},X={class:"col-6"},Z={class:"col-3"},h={class:"col-3"},ll={class:"grid mb-3"},ol={class:"col-3"},el={class:"col-3"},tl={class:"col-3"},al={class:"col-3"},sl={class:"grid mb-3"},nl={class:"col-3"},dl={class:"col-3"},il={class:"col-3"},ul={class:"col-3"},ml={class:"grid mb-2"},rl={class:"col-12"},pl={class:"flex gap-2 justify-end pt-3"},Ml={__name:"SampleDetailPop",setup(fl){const p=T("dialogRef"),{userId:g}=S(),{vError:w,vSuccess:_}=q(),c=r([]),u=r([]),y=r([{codeNm:"신규",code:"신규"},{codeNm:"개선",code:"개선"},{codeNm:"추가",code:"추가"}]),C=r([{codeNm:"확정",code:"Y"},{codeNm:"미확정",code:"N"}]),o=x({areaCd:"",clientName:"",itemName:"",businessManagerName:"",formulation:"",formulationCd:"",labManagerName:"",reqDate:"",prodMgmtNo:"",countQty:0,qty:0,etc:"",confirmYn:"",endReason:"",sampleId:"",userId:g}),U=async()=>{try{const d={...o},l=await f.saveSampleInfo(d);_(l.data)}catch(d){w(d.massage)}};$(()=>o.formulation,d=>{N(d)||(o.formulationCd=d)}),R(async()=>{if(c.value=await b.getCodeList("formulation_cd"),u.value=await b.getCodeList("AREA"),u.value=u.value.filter(d=>!["A003"].includes(d.code)),o.reqDate=G(),o.sampleId=p.value.data,N(p.value))o.prodMgmtNo=await f.getNextProdMgmtNo();else{const d=await f.getSampleInfo(o.sampleId);Object.assign(o,d),o.formulation=d.formulationCd}});const M=()=>{p.value.close()};return(d,l)=>{const i=F,n=z,m=Q,I=P,v=E,A=j,V=B,L=D;return Y(),k(L,{style:{width:"70rem",height:"27rem"}},{content:s(()=>[e("div",H,[e("div",J,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.prodMgmtNo,"onUpdate:modelValue":l[0]||(l[0]=a=>o.prodMgmtNo=a),class:"w-full"},null,8,["modelValue"]),l[15]||(l[15]=e("label",null,"제품관리번호",-1))]),_:1})]),e("div",K,[t(n,{variant:"on"},{default:s(()=>[t(m,{modelValue:o.areaCd,"onUpdate:modelValue":l[1]||(l[1]=a=>o.areaCd=a),options:u.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[16]||(l[16]=e("label",null,"공장명",-1))]),_:1})]),e("div",O,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.clientName,"onUpdate:modelValue":l[2]||(l[2]=a=>o.clientName=a),class:"w-full"},null,8,["modelValue"]),l[17]||(l[17]=e("label",null,"업체명",-1))]),_:1})])]),e("div",W,[e("div",X,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.itemName,"onUpdate:modelValue":l[3]||(l[3]=a=>o.itemName=a),class:"w-full"},null,8,["modelValue"]),l[18]||(l[18]=e("label",null,"품목명",-1))]),_:1})]),e("div",Z,[t(n,{variant:"on"},{default:s(()=>[t(m,{modelValue:o.formulation,"onUpdate:modelValue":l[4]||(l[4]=a=>o.formulation=a),options:c.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[19]||(l[19]=e("label",null,"제형품목",-1))]),_:1})]),e("div",h,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.formulationCd,"onUpdate:modelValue":l[5]||(l[5]=a=>o.formulationCd=a),class:"w-full"},null,8,["modelValue"]),l[20]||(l[20]=e("label",null,"제형",-1))]),_:1})])]),e("div",ll,[e("div",ol,[t(n,{variant:"on"},{default:s(()=>[t(I,{modelValue:o.reqDate,"onUpdate:modelValue":l[6]||(l[6]=a=>o.reqDate=a),showIcon:"",fluid:"",iconDisplay:"input",inputId:"icondisplay"},null,8,["modelValue"]),l[21]||(l[21]=e("label",null,"의뢰일자",-1))]),_:1})]),e("div",el,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.businessManagerName,"onUpdate:modelValue":l[7]||(l[7]=a=>o.businessManagerName=a),class:"w-full"},null,8,["modelValue"]),l[22]||(l[22]=e("label",null,"영업담당자명",-1))]),_:1})]),e("div",tl,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.labManagerName,"onUpdate:modelValue":l[8]||(l[8]=a=>o.labManagerName=a),class:"w-full"},null,8,["modelValue"]),l[23]||(l[23]=e("label",null,"연구담당자명",-1))]),_:1})]),e("div",al,[t(n,{variant:"on"},{default:s(()=>[t(m,{modelValue:o.statusType,"onUpdate:modelValue":l[9]||(l[9]=a=>o.statusType=a),options:y.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[24]||(l[24]=e("label",null,"상태유형",-1))]),_:1})])]),e("div",sl,[e("div",nl,[t(n,{variant:"on"},{default:s(()=>[t(v,{modelValue:o.countQty,"onUpdate:modelValue":l[10]||(l[10]=a=>o.countQty=a),class:"w-full"},null,8,["modelValue"]),l[25]||(l[25]=e("label",null,"횟수",-1))]),_:1})]),e("div",dl,[t(n,{variant:"on"},{default:s(()=>[t(v,{modelValue:o.qty,"onUpdate:modelValue":l[11]||(l[11]=a=>o.qty=a),class:"w-full"},null,8,["modelValue"]),l[26]||(l[26]=e("label",null,"수량",-1))]),_:1})]),e("div",il,[t(n,{variant:"on"},{default:s(()=>[t(m,{modelValue:o.confirmYn,"onUpdate:modelValue":l[12]||(l[12]=a=>o.confirmYn=a),options:C.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[27]||(l[27]=e("label",null,"확정여부",-1))]),_:1})]),e("div",ul,[t(n,{variant:"on"},{default:s(()=>[t(i,{modelValue:o.endReason,"onUpdate:modelValue":l[13]||(l[13]=a=>o.endReason=a),class:"w-full"},null,8,["modelValue"]),l[28]||(l[28]=e("label",null,"종료사유",-1))]),_:1})])]),e("div",ml,[e("div",rl,[t(n,{variant:"on"},{default:s(()=>[t(A,{modelValue:o.etc,"onUpdate:modelValue":l[14]||(l[14]=a=>o.etc=a),rows:"3",class:"w-full",style:{resize:"none"}},null,8,["modelValue"]),l[29]||(l[29]=e("label",null,"진행 및 특이사항/비고(사양 및 셋팅값)",-1))]),_:1})])]),e("div",pl,[t(V,{label:"저장",severity:"secondary",onClick:U}),t(V,{label:"닫기",onClick:M})])]),_:1})}}};export{Ml as default};
