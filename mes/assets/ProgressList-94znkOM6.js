import{a as M,r as p,m as T,n as I,c as h,g as a,d as i,w as t,F as P,o as f,j as Q,f as w,E as V,h as r,t as l,i as d,v as U}from"./index-C0I8_ih4.js";import{A as Y}from"./apiOrders-CDUwT9YC.js";import{f as m}from"./common-Dg66kV3l.js";import"./apiCommon-kSGeiy8j.js";import"./format-CBpsKyOP.js";const j={class:"table-container"},K={__name:"ProgressList",setup(z){const{userId:C}=M(),u=p([]),x=p(!1),k=p(""),o=T({itemName:"",managerName:"",customerName:"",userId:C}),b=p([{title:"품목코드",key:"itemCd",align:"center",width:"110px"},{title:"품목명",key:"itemName",align:"start",width:"500px"},{title:"고객사",key:"customerName",align:"start",width:"300px"},{title:"수주일",key:"contractDate",align:"center",width:"120px"},{title:"판매일",key:"saleDate",align:"center",width:"120px"},{title:"출하일",key:"shipmentDate",align:"center",width:"120px"},{title:"총수량",key:"totQty",align:"end",width:"120px"},{title:"담당자",key:"managerName",align:"center",width:"100px"},{title:"수량",key:"qty",align:"end",width:"120px"},{title:"단가",key:"unitPrice",align:"end",width:"120px"},{title:"공급가액",key:"supplyPrice",align:"end",width:"120px"},{title:"부가세",key:"vatPrice",align:"end",width:"120px"},{title:"합계금액",key:"totPrice",align:"end",width:"120px"},{title:"거래방법",key:"tradingMethod",align:"center",width:"180px"}]),N=async()=>{try{x.value=!0;const c={...o};u.value=await Y.getProgressList(c)}catch{}finally{x.value=!1}};I(async()=>{N()});const S=()=>{exportToExcel(b,u.value,"수주진행현황_목록")};return(c,n)=>{const D=i("v-breadcrumbs"),y=i("v-text-field"),g=i("v-btn"),_=i("v-col"),F=i("v-form"),v=i("v-row"),q=i("v-card-text"),A=i("v-card"),L=i("v-spacer"),B=i("v-data-table");return f(),h(P,null,[a(D,{items:["MES","영업관리","진행현황"],class:"custom-breadcrumbs"}),a(A,{class:"pa-1",style:{height:"60px"}},{default:t(()=>[a(q,null,{default:t(()=>[a(v,null,{default:t(()=>[a(F,{ref_key:"srhForm",ref:k,onSubmit:Q(N,["prevent"])},{default:t(()=>[a(_,{class:"d-flex flex-row ga-3"},{default:t(()=>[a(y,{modelValue:o.itemName,"onUpdate:modelValue":n[0]||(n[0]=e=>o.itemName=e),density:"compact",label:"품목명",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"180px"}},null,8,["modelValue"]),a(y,{modelValue:o.managerName,"onUpdate:modelValue":n[1]||(n[1]=e=>o.managerName=e),density:"compact",label:"담당자",placeholder:"담당자를 입력해주세요",variant:"underlined",style:{width:"150px"}},null,8,["modelValue"]),a(y,{modelValue:o.customerName,"onUpdate:modelValue":n[2]||(n[2]=e=>o.customerName=e),density:"compact",label:"거래처명",placeholder:"거래처명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),a(g,{text:"조회",color:"brown-lighten-4",type:"submit"}),a(g,{text:"초기화",onClick:n[3]||(n[3]=e=>k.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),a(L),a(v,null,{default:t(()=>[a(_,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:t(()=>[a(g,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:S})]),_:1})]),_:1}),a(v,null,{default:t(()=>[a(_,{class:"pa-0"},{default:t(()=>[w("div",j,[a(B,{headers:b.value,items:u.value,loading:x.value,"items-per-page":15,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요",density:"compact",height:"690px"},{headers:t(({columns:e})=>[w("tr",null,[(f(!0),h(P,null,U(e,s=>(f(),h("th",{key:s.key,style:V([{height:"40px"},{textAlign:"center",width:s.width||"auto"}])},l(s.title),5))),128))])]),"item.contractDateSeq":t(({item:e,index:s})=>[r(l(e.contractDateSeq),1)]),"item.itemName":t(({item:e,index:s})=>[r(l(e.itemName),1)]),"item.totQty":t(({item:e})=>[r(l(d(m)(e.totQty)),1)]),"item.qty":t(({item:e})=>[r(l(d(m)(e.qty)),1)]),"item.unitPrice":t(({item:e})=>[r(l(d(m)(e.unitPrice)),1)]),"item.supplyPrice":t(({item:e})=>[r(l(d(m)(e.supplyPrice)),1)]),"item.vatPrice":t(({item:e})=>[r(l(d(m)(e.vatPrice)),1)]),"item.totPrice":t(({item:e})=>[r(l(d(m)(e.totPrice)),1)]),"item.statusType":t(({item:e,index:s})=>[r(l(e.statusType==="ING"?"진행중":"종료"),1)]),"item.printYn":t(({item:e,index:s})=>[w("p",{style:V([{padding:"4px","text-align":"center",cursor:"pointer"},{backgroundColor:e.printYn==="Y"?"#FFAB91":"transparent"}]),onClick:n[4]||(n[4]=(...E)=>c.onPrint&&c.onPrint(...E))},"인쇄 ",4)]),_:1},8,["headers","items","loading"])])]),_:1})]),_:1})],64)}}};export{K as default};
