import{a as V,s as L}from"./index-Z2YNGKhZ.js";import{s as P}from"./index-D49h5Cbk.js";import{K as S,A as r,W as k,H as I,e as $,p as e,h as n,l as s,P as T,G as U,F as z,o as B,a0 as m,y,t as h}from"./index-BCdxernO.js";import{s as G}from"./index-CKfU0QJd.js";import{s as A}from"./index-DhHuXiFi.js";import{s as F}from"./index-Dsa_8OmY.js";import{s as R}from"./index-BE87lW_G.js";import{A as E}from"./apiCommon-DQdCmI3G.js";import{d as b,k as M}from"./common-Ctgf_4Dl.js";import{e as Q}from"./exportToExcel-BIsrPQTg.js";import"./index-BGn1OEmN.js";import"./index-WWuz9eST.js";const K={class:"flex flex-wrap items-center gap-2 w-full"},O={class:"flex items-center justify-end gap-2 mb-2"},W={__name:"ItemUseList",setup(q){const c=r(null),_=r([]),l=k({strDate:"",toDate:"",itemGrp1:"",itemTypeCd:"",areaCd:"",itemName:"",itemCd:"",stdDate:b()}),p=r([]),x=r([{code:"ALL",codeNm:"전체"},{code:"PRC001",codeNm:"칭량/제조"},{code:"PRC003",codeNm:"코팅"},{code:"PRC004",codeNm:"충전"},{code:"PRC005",codeNm:"포장"}]),w=async()=>{({...l})};I(async()=>{_.value=await E.getCodeList("item_grp1"),l.toDate=b(),l.strDate=M(l.toDate,-3)});const C=r({icon:"pi pi-home"}),g=r([{label:"자재관리"},{label:"품목별사용량"}]),v=()=>{var t;const i=((t=c.value)==null?void 0:t.columns)??[];if(!i.length){console.warn("No Columns Found");return}Q(p.value,"품목별사용량 리스트",i)};return(i,t)=>{const N=R,u=F,d=A,D=G,f=U,H=P,o=L,j=V;return B(),$(z,null,[e(N,{home:C.value,model:g.value},null,8,["home","model"]),n("form",{onSubmit:T(w,["prevent"]),class:"space-y-4"},[e(H,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:s(()=>[n("div",K,[e(d,{variant:"on"},{default:s(()=>[e(u,{modelValue:l.strDate,"onUpdate:modelValue":t[0]||(t[0]=a=>l.strDate=a),inputId:"on_label",showIcon:"",iconDisplay:"input"},null,8,["modelValue"]),t[3]||(t[3]=n("label",{for:"on_label"},"시작",-1))]),_:1}),e(d,{variant:"on"},{default:s(()=>[e(u,{modelValue:l.toDate,"onUpdate:modelValue":t[1]||(t[1]=a=>l.toDate=a),inputId:"on_label",showIcon:"",iconDisplay:"input"},null,8,["modelValue"]),t[4]||(t[4]=n("label",{for:"on_label"},"종료",-1))]),_:1}),e(d,{variant:"on"},{default:s(()=>[e(D,{modelValue:l.process,"onUpdate:modelValue":t[2]||(t[2]=a=>l.process=a),options:x.value,optionLabel:"codeNm",optionValue:"code",style:{width:"120px"}},null,8,["modelValue","options"]),t[5]||(t[5]=n("label",{for:"on_label"},"관리구분",-1))]),_:1}),e(f,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),n("div",O,[e(f,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:v})]),n("div",null,[e(j,{ref_key:"dt",ref:c,value:p.value,paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"700px",scrollable:"",showGridlines:"",tableStyle:"w-full table-layout: fixed;",class:"my-table"},{default:s(()=>[e(o,{field:"rowNum",header:"No.",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemGrp1",header:"관리구분",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"chingDate",header:"칭량일자",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemCd",header:"제조번호",style:{width:"150px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemCd",header:"품목코드",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemName",header:"품목명",style:m([{width:"300px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"inPrice",header:"생산량",pt:{columnHeaderContent:"justify-center"},style:m([{width:"100px"},{"text-align":"right"}])},{body:s(a=>[y(h(Number(a.data.orderQty).toLocaleString()),1)]),_:1}),e(o,{field:"unit",header:"단위",frozen:"",style:{width:"60px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemCd",header:"품목코드",frozen:"",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"itemName",header:"품목명",frozen:"",style:{width:"300px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"spec",header:"규격",frozen:"",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),e(o,{field:"outQty",header:"소요량",pt:{columnHeaderContent:"justify-center"},style:m([{width:"120px"},{"text-align":"right"}])},{body:s(a=>[y(h(Number(a.data.orderQty).toLocaleString()),1)]),_:1})]),_:1},8,["value"])])],64)}}},ie=S(W,[["__scopeId","data-v-5e53d512"]]);export{ie as default};
