import{_ as F,r as f,k as I,m as U,c as x,g as e,d as l,w as a,F as w,e as q,o as v,j as A,h as B,t as d,f as h,n as M,H as $}from"./index-B3xMVO1S.js";import{i as j}from"./common-UsHpmNCI.js";import{A as R}from"./apiOrders-DIY68eZ4.js";import"./format-CBpsKyOP.js";const z=["onClick"],G=["onClick"],H={__name:"DratfList",setup(O){const y=q(),g=f(!1),c=f([]),o=I({itemName:"",customerName:"",draftNaem:""}),b=f([{title:"문서번호",key:"draftDateSeq",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"고객사명",key:"customerName",align:"start",width:"250px"},{title:"기안일자",key:"draftDate",align:"center",width:"110px"},{title:"기안자",key:"draftUserName",align:"center",width:"100px"},{title:"진행상태",key:"statusType",align:"center",width:"100px"}]),m=(r,n)=>{j(r.draftId)?y.push({name:"DraftNew"}):y.push({name:"DraftDetail",params:{id:r.draftId}})},k=async()=>{g.value=!0;const r={...o};c.value=await R.getDraftList(r),g.value=!1};U(()=>{k()});const N=()=>{exportToExcel(b,c.value,"기안서_목록")};return(r,n)=>{const D=l("v-breadcrumbs"),p=l("v-text-field"),i=l("v-btn"),u=l("v-col"),V=l("v-form"),_=l("v-row"),C=l("v-card-text"),S=l("v-card"),L=l("v-spacer"),T=l("v-data-table");return v(),x(w,null,[e(D,{items:["MES","수주관리","사양서목록 관리"],class:"custom-breadcrumbs"}),e(S,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(C,null,{default:a(()=>[e(_,null,{default:a(()=>[e(V,{ref:"srhForm",onSubmit:A(k,["prevent"])},{default:a(()=>[e(u,{class:"d-flex ga-4"},{default:a(()=>[e(p,{modelValue:o.itemName,"onUpdate:modelValue":n[0]||(n[0]=t=>o.itemName=t),label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"180px"}},null,8,["modelValue"]),e(p,{modelValue:o.customerName,"onUpdate:modelValue":n[1]||(n[1]=t=>o.customerName=t),density:"compact",label:"고객사명",placeholder:"고객사명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),e(p,{modelValue:o.draftNaem,"onUpdate:modelValue":n[2]||(n[2]=t=>o.draftNaem=t),label:"기안자",placeholder:"기안자명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"150px"}},null,8,["modelValue"]),e(i,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(i,{text:"초기화",onClick:n[3]||(n[3]=t=>r.srhForm.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(L),e(_,null,{default:a(()=>[e(u,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(i,{color:"brown-lighten-4",text:"신규",onClick:m}),e(i,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:N})]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(u,{class:"pa-0"},{default:a(()=>[e(T,{headers:b.value,items:c.value,"items-per-page":15,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요",density:"compact","fixed-header":"",height:"690px"},{headers:a(({columns:t})=>[h("tr",null,[(v(!0),x(w,null,M(t,s=>(v(),x("th",{key:s.key,class:"custom-header",style:$([{height:"40px"},{textAlign:"center"}])},d(s.title),1))),128))])]),"item.draftDateSeq":a(({item:t,index:s})=>[h("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:E=>m(t,s)},d(t.draftDateSeq),9,z)]),"item.itemName":a(({item:t,index:s})=>[h("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:E=>m(t,s)},d(t.itemName),9,G)]),"item.statusType":a(({item:t,index:s})=>[B(d(t.statusType==="ING"?"진행중":"완료"),1)]),_:1},8,["headers","items"])]),_:1})]),_:1})],64)}}},W=F(H,[["__scopeId","data-v-e5a2b55c"]]);export{W as default};
