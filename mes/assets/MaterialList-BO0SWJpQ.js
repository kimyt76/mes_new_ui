import{L as j,r as h,k as B,m as D,c as R,g as e,d as n,w as a,F as U,e as A,o as O,j as T,h as y,t as u,i as w,f as $}from"./index-DbwVXjcr.js";import{e as q}from"./exportToExcel-Kkbtezxo.js";import{i as b,f as k}from"./common-BCog4hmn.js";import{A as H}from"./apiLab-DS60JKzK.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const I=["onClick"],_="MaterialList",Z={__name:"MaterialList",setup(z){const m=j(),N=A(),x=h(null),s=h([]),i=B({itemName:"",itemCd:"",ingredientName:""}),f=[{title:"No.",key:"rowNum",align:"center",width:"30px"},{title:"품목코드",key:"itemCd",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"거래처",key:"customerName",align:"start",width:"200px"},{title:"제조원",key:"qty",align:"center",width:"100px"},{title:"입고단가",key:"inPrice",align:"end",width:"100px"},{title:"출고단가",key:"outPrice",align:"end",width:"100px"},{title:"Vegan",key:"vegan",align:"center",width:"60px"},{title:"Halal",key:"halal",align:"center",width:"60px"},{title:"RSPO",key:"rspo",align:"center",width:"60px"}],v=async()=>{const l={...i};s.value=await H.getMaterialItemList(l),b(l)||(m.setSearchParams(_,l),m.setListData(_,s))},g=(l,o)=>{N.push({name:"MaterialDetail",params:{id:l.itemCd}})};D(async()=>{const l=m.getPage(_);b(l.searchParams)||(Object.assign(i,l.searchParams),v())});const C=()=>{q(f,s.value,"원료_목록")};return(l,o)=>{const V=n("v-breadcrumbs"),c=n("v-text-field"),r=n("v-btn"),d=n("v-col"),P=n("v-form"),p=n("v-row"),L=n("v-card-text"),M=n("v-card"),S=n("v-spacer"),E=n("v-data-table");return O(),R(U,null,[e(V,{items:["MES","연구관리","원료정보"],class:"custom-breadcrumbs"}),e(M,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(L,null,{default:a(()=>[e(p,null,{default:a(()=>[e(P,{ref_key:"srhForm",ref:x,onSubmit:T(v,["prevent"])},{default:a(()=>[e(d,{class:"d-flex ga-4"},{default:a(()=>[e(c,{modelValue:i.itemName,"onUpdate:modelValue":o[0]||(o[0]=t=>i.itemName=t),label:"품목명",density:"compact",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(c,{modelValue:i.itemCd,"onUpdate:modelValue":o[1]||(o[1]=t=>i.itemCd=t),label:"품목코드",density:"compact",variant:"underlined",placeholder:"품목명를 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(c,{modelValue:i.ingredientName,"onUpdate:modelValue":o[2]||(o[2]=t=>i.ingredientName=t),label:"성분명",density:"compact",variant:"underlined",placeholder:"성분명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(r,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(r,{text:"초기화",onClick:o[3]||(o[3]=t=>x.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(S),e(p,null,{default:a(()=>[e(d,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(r,{color:"brown-lighten-4",text:"신규",onClick:g}),e(r,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:C})]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(d,{class:"pa-0"},{default:a(()=>[e(E,{headers:f,items:s.value,density:"compact","fixed-header":"","items-per-page":15,height:"720px",class:"custom-table"},{"item.itemName":a(({item:t,index:F})=>[$("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:G=>g(t,F)},u(t.itemName),9,I)]),"item.inPrice":a(({item:t})=>[y(u(w(k)(t.inPrice)),1)]),"item.outPrice":a(({item:t})=>[y(u(w(k)(t.outPrice)),1)]),_:1},8,["items"])]),_:1})]),_:1})],64)}}};export{Z as default};
