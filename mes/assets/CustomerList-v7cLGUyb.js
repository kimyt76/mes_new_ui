import{a as H,s as T}from"./index-Z2YNGKhZ.js";import{s as j}from"./index-D49h5Cbk.js";import{K as N,U as k,A as i,W as $,H as L,e as M,p as t,h as a,l as r,P as B,G as E,F as S,o as U,a0 as A,t as z}from"./index-BCdxernO.js";import{s as D}from"./index-WWuz9eST.js";import{s as F}from"./index-DhHuXiFi.js";import{s as P}from"./index-CKfU0QJd.js";import{s as G}from"./index-BE87lW_G.js";import{A as I}from"./apiBase-DJzL_JWR.js";import{A as O}from"./apiCommon-DQdCmI3G.js";import{i as R}from"./common-Ctgf_4Dl.js";import{e as K}from"./exportToExcel-BIsrPQTg.js";import{_ as W}from"./CustomerPop-BkXt7x33.js";import"./index-BGn1OEmN.js";import"./index-CEOpAmiF.js";import"./index-CLRf2YcQ.js";const Y={class:"flex flex-wrap items-center gap-2 w-full"},q={class:"flex items-center justify-end gap-2 mb-2"},J=["onClick"],Q={__name:"CustomerList",setup(X){const w=k(),d=i([]),c=i([]),f=i(null),s=$({customerType:null,customerName:"",customerCd:"",customerManager:""}),y=async()=>{const n={...s};d.value=await I.getCustomerList(n)},b=n=>{let e="거래처 등록";R(n)||(e="거래처 상세"),w.open(W,{props:{header:e,width:"700px",modal:!0,style:{overflow:"hidden"},pt:{root:{style:{overflow:"hidden"}},content:{style:{overflow:"hidden"}}},closable:!0,resizable:!1},data:n,onClose:_=>{y()}})};L(async()=>{c.value=await O.getCodeList("CUSTOMER_TYPE")});const x=i({icon:"pi pi-home"}),h=i([{label:"기본관리"},{label:"거래처관리"},{label:"거래처목록"}]),v=()=>{var e;const n=((e=f.value)==null?void 0:e.columns)??[];n.length&&K(d.value,"거래처 리스트",n)};return(n,e)=>{const _=G,C=P,m=F,p=D,u=E,g=j,l=T,V=H;return U(),M(S,null,[t(_,{home:x.value,model:h.value},null,8,["home","model"]),a("form",{onSubmit:B(y,["prevent"]),class:"space-y-4"},[t(g,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:r(()=>[a("div",Y,[t(m,{variant:"on"},{default:r(()=>[t(C,{modelValue:s.customerType,"onUpdate:modelValue":e[0]||(e[0]=o=>s.customerType=o),options:c.value,optionLabel:"codeNm",optionValue:"code",style:{width:"150px"}},null,8,["modelValue","options"]),e[5]||(e[5]=a("label",{for:"on_label1"},"거래처구분",-1))]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(p,{id:"on_label1",modelValue:s.customerName,"onUpdate:modelValue":e[1]||(e[1]=o=>s.customerName=o),style:{width:"200px"}},null,8,["modelValue"]),e[6]||(e[6]=a("label",{for:"on_label1"},"거래처명",-1))]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(p,{id:"on_label1",modelValue:s.customerCd,"onUpdate:modelValue":e[2]||(e[2]=o=>s.customerCd=o),style:{width:"180px"}},null,8,["modelValue"]),e[7]||(e[7]=a("label",{for:"on_label1"},"거래처코드",-1))]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(p,{id:"on_label1",modelValue:s.customerManager,"onUpdate:modelValue":e[3]||(e[3]=o=>s.customerManager=o),style:{width:"180px"}},null,8,["modelValue"]),e[8]||(e[8]=a("label",{for:"on_label1"},"거래처담당자",-1))]),_:1}),t(u,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),a("div",q,[t(u,{label:"신규",icon:"pi pi-file-excel",onClick:e[4]||(e[4]=o=>b(""))}),t(u,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:v})]),a("div",null,[t(V,{ref_key:"dt",ref:f,value:d.value,paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"650px",scrollable:"",showGridlines:"",tableStyle:"min-width: 100rem; table-layout: fixed;",class:"my-table"},{default:r(()=>[t(l,{field:"customerTypeName",header:"구분",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"customerName",header:"거래처명",frozen:"",style:A([{width:"200px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:r(o=>[a("div",{onClick:Z=>b(o.data.customerCd),class:"clickable-cell"},z(o.data.customerName),9,J)]),_:1}),t(l,{field:"address",header:"주소",style:{width:"200px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"president",header:"대표자명",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"businessNo",header:"사업자번호",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"tel",header:"전화번호",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"customerManager",header:"거래처담당자",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"email",header:"이메일",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"customerManagerTel",header:"핸드폰번호",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"memberName",header:"담당자명",style:{width:"60px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value"])])],64)}}},ye=N(Q,[["__scopeId","data-v-771da642"]]);export{ye as default};
