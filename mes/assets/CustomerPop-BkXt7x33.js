import{s as S}from"./index-CEOpAmiF.js";import{s as $}from"./index-CLRf2YcQ.js";import{s as z,a as B,b as E}from"./index-CKfU0QJd.js";import{U as O,V as j,M as Y,L as D,A as i,W as F,H as W,i as H,o as U,l as a,h as o,p as s,G as q,e as J,g as K}from"./index-BCdxernO.js";import{s as Q}from"./index-WWuz9eST.js";import{s as X}from"./index-DhHuXiFi.js";import{A as f}from"./apiBase-DJzL_JWR.js";import{A as V}from"./apiCommon-DQdCmI3G.js";const Z={class:"grid mb-3"},h={class:"col-3"},ll={class:"col-6 flex"},el={class:"grid mb-3"},ol={class:"col-6"},sl={class:"col-3"},tl={key:0,class:"col-3"},al={class:"grid mb-3"},nl={class:"col-3"},dl={class:"col-3"},ul={class:"col-3"},il={class:"col-3"},ml={class:"grid mb-3"},rl={class:"col-3"},pl={class:"col-3"},fl={class:"col-3"},Vl={class:"col-3"},vl={class:"grid mb-3"},cl={class:"col-3"},bl={class:"col-3"},gl={class:"col-3"},wl={class:"col-3"},Cl={class:"grid mb-3"},Ul={class:"col-6"},_l={class:"col-3"},Nl={class:"col-3"},Tl={class:"grid mb-3"},yl={class:"col-12"},Il={class:"grid mb-3"},kl={class:"col-12"},xl={class:"flex gap-2 justify-end pt-3"},Bl={__name:"CustomerPop",setup(Ml){const _=O(),m=j("dialogRef"),{userId:v,memberNm:N}=Y(),{vError:T,vSuccess:y,vInfo:I,vWarning:k}=D(),c=i(!1),b=i([]),g=i([]),w=i([]),e=F({customerTypes:"",customerCd:"",customerName:"",managerName:"",manaserId:"",businessType:"",businessItem:"",president:"",tel:"",fax:"",presidentTel:"",email:"",customerManager:"",customerManagerTel:"",customerGrp1:"",customerGrp2:"",zipCode:"",tradingMethod:"",address:"",bankName:"",accountNo:"",searchText:"",etc:"",userId:v}),x=async()=>{try{const u={...e},l=await f.saveCustomerInfo(u);y(l)}catch(u){T(u.message)}};W(async()=>{if(b.value=await V.getCodeList("CUSTOMER_TYPE"),g.value=await V.getCodeList("CUSTOMER_GRP1"),w.value=await V.getCodeList("CUSTOMER_GRP2"),m.value.data){const u=await f.getCustomerInfo(m.value.data);Object.assign(e,u)}else e.managerName=N,e.manaserId=v,c.value=!0});const M=()=>{_.open(CustomerListPop,{props:{header:"사용자 조회",modal:!0,maximizable:!1,draggable:!0,style:{overflow:"hidden"},pt:{root:{style:{overflow:"hidden"}},content:{style:{overflow:"hidden"}}}},onClose:u=>{u.data&&(console.log("부모에서 데이터 수신:",u.data),e.managerName=u.data.memberNm,e.manaserId=u.data.userId)}})},G=async()=>{await f.getCheckCustomerCd(e.customerCd)==="N"?I("사용할 수 있는 번호입니다."):(k("사용할 수 없는 번호입니다."),e.customerCd="")},L=()=>{m.value.close()};return(u,l)=>{const r=z,n=X,d=Q,p=q,A=E,P=B,C=$,R=S;return U(),H(R,{style:{width:"70rem",height:"42rem"}},{content:a(()=>[o("div",Z,[o("div",h,[s(n,{variant:"on"},{default:a(()=>[s(r,{modelValue:e.customerType,"onUpdate:modelValue":l[0]||(l[0]=t=>e.customerType=t),options:b.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[22]||(l[22]=o("label",null,"거래처구분",-1))]),_:1})]),o("div",ll,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.customerCd,"onUpdate:modelValue":l[1]||(l[1]=t=>e.customerCd=t),class:"w-full"},null,8,["modelValue"]),l[23]||(l[23]=o("label",null,"사업자번호",-1))]),_:1}),s(p,{icon:"pi pi-search",label:"중복체크",class:"p-button-text p-mt-2",onClick:G})])]),o("div",el,[o("div",ol,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.customerName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.customerName=t),class:"w-full"},null,8,["modelValue"]),l[24]||(l[24]=o("label",null,"상호명",-1))]),_:1})]),o("div",sl,[s(n,{variant:"on"},{default:a(()=>[s(P,{iconPosition:"left"},{default:a(()=>[s(d,{modelValue:e.managerName,"onUpdate:modelValue":l[3]||(l[3]=t=>e.managerName=t),class:"w-full"},null,8,["modelValue"]),s(A,{class:"pi pi-search",onClick:M})]),_:1}),l[25]||(l[25]=o("label",null,"담당자",-1))]),_:1})]),c.value?(U(),J("div",tl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.businessType,"onUpdate:modelValue":l[4]||(l[4]=t=>e.businessType=t),class:"w-full"},null,8,["modelValue"]),l[26]||(l[26]=o("label",null,"업태",-1))]),_:1})])):K("",!0)]),o("div",al,[o("div",nl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.businessItem,"onUpdate:modelValue":l[5]||(l[5]=t=>e.businessItem=t),class:"w-full"},null,8,["modelValue"]),l[27]||(l[27]=o("label",null,"종목",-1))]),_:1})]),o("div",dl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.president,"onUpdate:modelValue":l[6]||(l[6]=t=>e.president=t),class:"w-full"},null,8,["modelValue"]),l[28]||(l[28]=o("label",null,"대표자명",-1))]),_:1})]),o("div",ul,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.tel,"onUpdate:modelValue":l[7]||(l[7]=t=>e.tel=t),class:"w-full"},null,8,["modelValue"]),l[29]||(l[29]=o("label",null,"전화",-1))]),_:1})]),o("div",il,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.fax,"onUpdate:modelValue":l[8]||(l[8]=t=>e.fax=t),class:"w-full"},null,8,["modelValue"]),l[30]||(l[30]=o("label",null,"팩스",-1))]),_:1})])]),o("div",ml,[o("div",rl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.presidentTel,"onUpdate:modelValue":l[9]||(l[9]=t=>e.presidentTel=t),class:"w-full"},null,8,["modelValue"]),l[31]||(l[31]=o("label",null,"휴대폰",-1))]),_:1})]),o("div",pl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.email,"onUpdate:modelValue":l[10]||(l[10]=t=>e.email=t),class:"w-full"},null,8,["modelValue"]),l[32]||(l[32]=o("label",null,"이메일",-1))]),_:1})]),o("div",fl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.customerManager,"onUpdate:modelValue":l[11]||(l[11]=t=>e.customerManager=t),class:"w-full"},null,8,["modelValue"]),l[33]||(l[33]=o("label",null,"거래처담당자",-1))]),_:1})]),o("div",Vl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.customerManagerTel,"onUpdate:modelValue":l[12]||(l[12]=t=>e.customerManagerTel=t),class:"w-full"},null,8,["modelValue"]),l[34]||(l[34]=o("label",null,"담당자핸드폰",-1))]),_:1})])]),o("div",vl,[o("div",cl,[s(n,{variant:"on"},{default:a(()=>[s(r,{modelValue:e.customerGrp1,"onUpdate:modelValue":l[13]||(l[13]=t=>e.customerGrp1=t),options:g.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[35]||(l[35]=o("label",null,"그룹유형1",-1))]),_:1})]),o("div",bl,[s(n,{variant:"on"},{default:a(()=>[s(r,{modelValue:e.customerGrp2,"onUpdate:modelValue":l[14]||(l[14]=t=>e.customerGrp2=t),options:w.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),l[36]||(l[36]=o("label",null,"그룹유형2",-1))]),_:1})]),o("div",gl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.zipCode,"onUpdate:modelValue":l[15]||(l[15]=t=>e.zipCode=t),class:"w-full"},null,8,["modelValue"]),l[37]||(l[37]=o("label",null,"우편번호",-1))]),_:1})]),o("div",wl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.tradingMethod,"onUpdate:modelValue":l[16]||(l[16]=t=>e.tradingMethod=t),class:"w-full"},null,8,["modelValue"]),l[38]||(l[38]=o("label",null,"거래방법",-1))]),_:1})])]),o("div",Cl,[o("div",Ul,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.address,"onUpdate:modelValue":l[17]||(l[17]=t=>e.address=t),class:"w-full"},null,8,["modelValue"]),l[39]||(l[39]=o("label",null,"주소",-1))]),_:1})]),o("div",_l,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.bankName,"onUpdate:modelValue":l[18]||(l[18]=t=>e.bankName=t),class:"w-full"},null,8,["modelValue"]),l[40]||(l[40]=o("label",null,"은행명",-1))]),_:1})]),o("div",Nl,[s(n,{variant:"on"},{default:a(()=>[s(d,{modelValue:e.accountNo,"onUpdate:modelValue":l[19]||(l[19]=t=>e.accountNo=t),class:"w-full"},null,8,["modelValue"]),l[41]||(l[41]=o("label",null,"계좌번호",-1))]),_:1})])]),o("div",Tl,[o("div",yl,[s(n,{variant:"on"},{default:a(()=>[s(C,{modelValue:e.searchText,"onUpdate:modelValue":l[20]||(l[20]=t=>e.searchText=t),rows:"3",class:"w-full",style:{resize:"none"}},null,8,["modelValue"]),l[42]||(l[42]=o("label",null,"검색창내용",-1))]),_:1})])]),o("div",Il,[o("div",kl,[s(n,{variant:"on"},{default:a(()=>[s(C,{modelValue:e.etc,"onUpdate:modelValue":l[21]||(l[21]=t=>e.etc=t),rows:"3",class:"w-full",style:{resize:"none"}},null,8,["modelValue"]),l[43]||(l[43]=o("label",null,"비고",-1))]),_:1})])]),o("div",xl,[s(p,{label:"저장",severity:"secondary",onClick:x}),s(p,{label:"닫기",onClick:L})])]),_:1})}}};export{Bl as _};
