import{a as N,s as V}from"./index-Z2YNGKhZ.js";import{s as k}from"./index-D49h5Cbk.js";import{K as D,U as H,A as i,Z as $,W as j,H as L,e as T,p as t,h as a,l as r,P as B,G as S,F as U,o as z,a0 as E,t as F}from"./index-BCdxernO.js";import{s as A}from"./index-DhHuXiFi.js";import{s as I}from"./index-WWuz9eST.js";import{s as P}from"./index-BE87lW_G.js";import{A as R}from"./apiOrders-LBbh7QBG.js";import{i as G}from"./common-Ctgf_4Dl.js";import{e as M}from"./exportToExcel-BIsrPQTg.js";import O from"./DraftReg-B6PPnZI3.js";import"./index-CKfU0QJd.js";import"./index-BGn1OEmN.js";const W={class:"flex flex-wrap items-center gap-2 w-full"},q={class:"flex items-center justify-end gap-2 mb-2"},K=["onClick"],Z={__name:"DratfList",setup(J){const x=H(),f=i(null),d=i([]);i([]);const m=$(null),s=j({itemName:"",draftNaem:"",clientName:"",statusType:""}),b=o=>{let e="";G(o)?(e="사양서 등록",m.value=O):(e="사양서 상세",m.value=ContractDetailPop),x.open(m,{props:{header:e,modal:!0,maximizable:!1,draggable:!1,style:{width:"90vw",maxWidth:"1800px",height:"800px",overflow:"hidden"},pt:{root:{style:{overflow:"hidden"}},content:{style:{overflow:"hidden"}}}},data:o,onClose:w=>{y()}})},y=async()=>{const o={...s};d.value=await R.getDraftList(o)};L(async()=>{});const _=i({icon:"pi pi-home"}),v=i([{label:"영업관리"},{label:"사양서관리"},{label:"사양서목록"}]),h=()=>{var e;const o=((e=f.value)==null?void 0:e.columns)??[];if(!o.length){console.warn("No Columns Found");return}M(d.value,"사양서 리스트",o)};return(o,e)=>{const w=P,p=I,c=A,u=S,g=k,n=V,C=N;return z(),T(U,null,[t(w,{home:_.value,model:v.value},null,8,["home","model"]),a("form",{onSubmit:B(y,["prevent"]),class:"space-y-4"},[t(g,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:r(()=>[a("div",W,[t(c,{variant:"on"},{default:r(()=>[t(p,{id:"on_label",modelValue:s.itemName,"onUpdate:modelValue":e[0]||(e[0]=l=>s.itemName=l),style:{width:"180px"}},null,8,["modelValue"]),e[4]||(e[4]=a("label",{for:"on_label"},"품목명",-1))]),_:1}),t(c,{variant:"on"},{default:r(()=>[t(p,{id:"on_label1",modelValue:s.clientName,"onUpdate:modelValue":e[1]||(e[1]=l=>s.clientName=l),style:{width:"180px"}},null,8,["modelValue"]),e[5]||(e[5]=a("label",{for:"on_label1"},"고객사명",-1))]),_:1}),t(c,{variant:"on"},{default:r(()=>[t(p,{id:"on_label1",modelValue:s.draftNaem,"onUpdate:modelValue":e[2]||(e[2]=l=>s.draftNaem=l),style:{width:"120px"}},null,8,["modelValue"]),e[6]||(e[6]=a("label",{for:"on_label1"},"기안자",-1))]),_:1}),t(u,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),a("div",q,[t(u,{label:"신규",icon:"pi pi-plus",severity:"secondary",onClick:e[3]||(e[3]=l=>b(""))}),t(u,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:h})]),a("div",null,[t(C,{ref_key:"dt",ref:f,value:d.value,paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"700px",scrollable:"",showGridlines:"",tableStyle:"w-full; table-layout: fixed;",class:"my-table"},{default:r(()=>[t(n,{field:"draftDateSeq",header:"문서번호",frozen:"",style:{width:"140px"},pt:{columnHeaderContent:"justify-center"}}),t(n,{field:"itemName",header:"품목명",frozen:"",style:E([{width:"350px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:r(l=>[a("div",{onClick:Q=>b(l.data.contractId),class:"clickable-cell"},F(l.data.itemName),9,K)]),_:1}),t(n,{field:"clientName",header:"고객사명",style:{width:"250px"},pt:{columnHeaderContent:"justify-center"}}),t(n,{field:"draftDate",header:"기안일자",style:{width:"90px"},pt:{columnHeaderContent:"justify-center"}}),t(n,{field:"draftUserName",header:"기안자",style:{width:"90px"},pt:{columnHeaderContent:"justify-center"}}),t(n,{field:"statusType",header:"진행상태",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value"])])],64)}}},me=D(Z,[["__scopeId","data-v-65a53772"]]);export{me as default};
