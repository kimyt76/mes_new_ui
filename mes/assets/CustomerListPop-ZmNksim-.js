import{_ as j,r as n,m as E,n as T,d as l,b as $,o as u,w as o,g as e,h as b,j as O,f as D,c as w,F as H,v as I,t as q}from"./index-Be8ZRtMe.js";import{A as z}from"./apiBase-BOHAoysR.js";import{A as y}from"./apiCommon-B9fwy2tv.js";const J={__name:"CustomerListPop",emits:["selected","close-dialog"],setup(K,{emit:C}){const r=C,p=n(""),k=n(!1),_=n([]),v=n([]),f=n([]),a=E({customerGrp1:"",customerGrp2:"",businessCd:"",customerName:""}),V=[{title:"거래처코드",key:"customerCd",align:"center",width:"120px"},{title:"거래처명",key:"customerName",align:"left",width:"250px"},{title:"담당자",key:"customerManager",align:"center",width:"100px"},{title:"전화번호",key:"tel",align:"center",width:"100px"}],h=(i,t)=>{r("selected",t.item),r("close-dialog")},G=async()=>{const i={...a};_.value=await z.getCustomerList(i)};return T(async()=>{v.value=await y.getCodeList("CUSTOMER_GRP1"),f.value=await y.getCodeList("CUSTOMER_GRP2")}),(i,t)=>{const N=l("v-toolbar-title"),L=l("v-spacer"),B=l("v-icon"),c=l("v-btn"),M=l("v-toolbar"),x=l("v-select"),R=l("v-text-field"),m=l("v-col"),U=l("v-form"),d=l("v-row"),A=l("v-data-table"),F=l("v-card-text"),P=l("v-card-actions"),S=l("v-card");return u(),$(S,{class:"no-scroll"},{default:o(()=>[e(M,{height:"40",class:"d-flex align-center justify-space-between px-2 toolbar-Head"},{default:o(()=>[e(N,null,{default:o(()=>t[6]||(t[6]=[b("거래처 조회")])),_:1}),e(L),e(c,{icon:"",onClick:t[0]||(t[0]=s=>r("close-dialog"))},{default:o(()=>[e(B,null,{default:o(()=>t[7]||(t[7]=[b("mdi-close")])),_:1})]),_:1})]),_:1}),e(F,null,{default:o(()=>[e(d,null,{default:o(()=>[e(U,{ref_key:"srhForm",ref:p,onSubmit:O(G,["prevent"])},{default:o(()=>[e(m,{class:"d-flex flex-row ga-3"},{default:o(()=>[e(x,{modelValue:a.customerGrp1,"onUpdate:modelValue":t[1]||(t[1]=s=>a.customerGrp1=s),label:"거래유형",items:v.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",style:{width:"120px"}},null,8,["modelValue","items"]),e(x,{modelValue:a.customerGrp2,"onUpdate:modelValue":t[2]||(t[2]=s=>a.customerGrp2=s),label:"업무유형",items:f.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",style:{width:"120px"}},null,8,["modelValue","items"]),e(R,{modelValue:a.customerName,"onUpdate:modelValue":t[3]||(t[3]=s=>a.customerName=s),label:"거래처명",density:"compact",style:{width:"180px"},placeholder:"거래처명을 입력해주세요"},null,8,["modelValue"]),e(c,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(c,{text:"초기화",class:"mr-4",onClick:t[4]||(t[4]=s=>p.value.reset())})]),_:1})]),_:1},512)]),_:1}),e(d,null,{default:o(()=>[e(m,{class:"pa-1"},{default:o(()=>[e(A,{headers:V,items:_.value,loading:k.value,"items-per-page":15,density:"compact","fixed-header":"",height:"520px",class:"custom-table","onClick:row":h},{headers:o(({columns:s})=>[D("tr",null,[(u(!0),w(H,null,I(s,g=>(u(),w("th",{key:g.key,class:"custom-header"},q(g.title),1))),128))])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),e(P,null,{default:o(()=>[e(d,null,{default:o(()=>[e(m,{class:"d-flex justify-end"},{default:o(()=>[e(c,{text:"닫기",variant:"tonal",class:"mb-4 mr-3",onClick:t[5]||(t[5]=s=>r("close-dialog"))})]),_:1})]),_:1})]),_:1})]),_:1})}}},Y=j(J,[["__scopeId","data-v-4ab7d48c"]]);export{Y as C};
