import{a as S,s as j}from"./index-Z2YNGKhZ.js";import{s as L}from"./index-D49h5Cbk.js";import{K as M,L as k,U as $,A as r,W as O,H as A,e as I,p as t,h as n,l as s,P as U,G as T,F as D,o as F,y as z,t as v,a0 as c}from"./index-BCdxernO.js";import{s as E}from"./index-CKfU0QJd.js";import{s as P}from"./index-DhHuXiFi.js";import{s as G}from"./index-WWuz9eST.js";import{s as K}from"./index-BE87lW_G.js";import{A as R}from"./apiCommon-DQdCmI3G.js";import{A as W}from"./apiLab-DBKUW3x6.js";import{e as Y}from"./exportToExcel-BIsrPQTg.js";import{B as q}from"./BomDetailPop-DJ1zY1zP.js";import"./index-BGn1OEmN.js";import"./index-CEOpAmiF.js";import"./index-CLRf2YcQ.js";import"./common-Ctgf_4Dl.js";import"./errorHandler-DOdEIoRq.js";import"./ClientListPop-BQhfi3oc.js";import"./apiBase-DJzL_JWR.js";import"./UserListPop-40qvmJxy.js";import"./apiSystem-BBpYMteA.js";const J={class:"flex flex-wrap items-center gap-2 w-full"},Q={class:"flex items-center justify-end gap-2 mb-2"},X={class:"flex flex-col mt-2"},Z=["onClick"],ee={__name:"BomHistList",setup(te){const{vInfo:oe}=k(),_=$(),u=r(null),f=r([]),d=r([]),b=r([]),a=O({itemName:"",itemCd:"",managerName:"",passStats:"",defaultYn:""}),y=async()=>{const i={...a};d.value=await W.getBomList(i)},w=i=>{_.open(q,{props:{header:"BOM상세",modal:!0,maximizable:!1,draggable:!0,style:{width:"90vw",maxWidth:"1800px",height:"900px",maxHeight:"90vh"},pt:{content:{style:{maxHeight:"calc(90vh - 4rem)",overflow:"auto"}}}},data:i,onClose:e=>{y()}})};A(async()=>{f.value=await R.getCodeList("approva_state")});const h=r({icon:"pi pi-home"}),g=r([{label:"연구관리"},{label:"BOM관리"},{label:"BOM목록"}]),C=()=>{var e;const i=((e=u.value)==null?void 0:e.columns)??[];if(!i.length){console.warn("No Columns Found");return}Y(d.value,"BOM리스트",i)};return(i,e)=>{const V=K,p=G,m=P,B=E,x=T,H=L,l=j,N=S;return F(),I(D,null,[t(V,{home:h.value,model:g.value},null,8,["home","model"]),n("form",{onSubmit:U(y,["prevent"]),class:"space-y-4"},[t(H,{class:"flex flex-wrap mt-2 mb-2 gap-2 w-full"},{start:s(()=>[n("div",J,[t(m,{variant:"on"},{default:s(()=>[t(p,{id:"on_label",modelValue:a.itemName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.itemName=o)},null,8,["modelValue"]),e[5]||(e[5]=n("label",{for:"on_label"},"품목명",-1))]),_:1}),t(m,{variant:"on"},{default:s(()=>[t(p,{id:"on_label1",modelValue:a.itemCd,"onUpdate:modelValue":e[1]||(e[1]=o=>a.itemCd=o)},null,8,["modelValue"]),e[6]||(e[6]=n("label",{for:"on_label1"},"품목코드",-1))]),_:1}),t(m,{variant:"on"},{default:s(()=>[t(p,{id:"on_label1",modelValue:a.managerName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.managerName=o)},null,8,["modelValue"]),e[7]||(e[7]=n("label",{for:"on_label1"},"담당자",-1))]),_:1}),t(m,{variant:"on"},{default:s(()=>[t(B,{modelValue:a.approvaState,"onUpdate:modelValue":e[3]||(e[3]=o=>a.approvaState=o),options:f.value,optionLabel:"codeNm",optionValue:"code",style:{width:"150px"}},null,8,["modelValue","options"]),e[8]||(e[8]=n("label",{for:"on_label1"},"결재상태",-1))]),_:1}),t(x,{label:"검색",icon:"pi pi-search",severity:"secondary",type:"submit"})])]),_:1})],32),n("div",Q,[t(x,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:C})]),n("div",X,[t(N,{ref_key:"dt",ref:u,selection:b.value,"onUpdate:selection":e[4]||(e[4]=o=>b.value=o),value:d.value,selectionMode:"single",dataKey:"bomId",paginator:"",rows:20,rowsPerPageOptions:[20,30,40],tableStyle:"table-layout: fixed; width: 100%",columnResizeMode:"fit",class:"my-table",scrollHeight:"700px",showGridlines:""},{default:s(()=>[t(l,{header:"No.",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}},{body:s(o=>[z(v(o.index+1),1)]),_:1}),t(l,{field:"itemCd",header:"품목코드",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"itemName",header:"품목명",style:c([{width:"540px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:s(o=>[n("div",{onClick:ae=>w(o.data.bomId),class:"clickable-cell"},v(o.data.itemName),9,Z)]),_:1}),t(l,{field:"bomVer",header:"BOM버전",style:c([{width:"100px"},{"text-align":"center"}]),pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"defaultYn",header:"기본BOM",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"managerName",header:"담당자",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"itemCnt",header:"원료갯수",style:{width:"70px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"approvalState",header:"결재상태",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),t(l,{field:"etc",header:"비고",style:c([{width:"270px"},{"text-align":"left"}]),pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["selection","value"])])],64)}}},Ve=M(ee,[["__scopeId","data-v-27c8fd5e"]]);export{Ve as default};
