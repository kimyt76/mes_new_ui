import{_ as $,u as M,r as m,m as P,n as Y,c as h,g as e,d as s,w as r,F as w,e as j,o as x,j as q,f as n,t as l,i as V,y as E,x as Q}from"./index-BNL3Tgw5.js";import{A as R}from"./apiOrders-Whxuw2Cj.js";import{e as z}from"./exportToExcel-Kkbtezxo.js";import{A as G}from"./apiCommon-LY9rUrf-.js";import{f as S,i as O}from"./common-BOBTT4pT.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const H={class:"d-flex ga-3"},J={class:"d-flex ga-4 justify-end"},K={style:{height:"30px"}},W=["onClick"],X=["onClick"],Z={style:{width:"90px",height:"30px","text-align":"center"}},tt={style:{width:"90px",height:"30px","text-align":"center"}},et={style:{width:"200px",height:"30px","text-align":"center"}},nt={style:{width:"100px",height:"30px","text-align":"right"}},at={style:{width:"100px",height:"30px","text-align":"right"}},ot={style:{width:"60px",height:"30px","text-align":"center"}},st={style:{width:"40px",height:"30px","text-align":"center"}},lt={__name:"ContractList",setup(rt){const y=j(),{vError:A}=M(),p=m(!1),u=m([]),v=m([]),f=m(""),o=P({itemName:"",managerName:"",customerName:"",statusType:""}),k=[{title:"일자-No.",key:"contractDateSeq",align:"center"},{title:"품목명",key:"itemName",align:"center"},{title:"납기일자",key:"dueDate",align:"center"},{title:"담당자명",key:"managerName",align:"center"},{title:"거래처명",key:"customerName",align:"center"},{title:"주문수량합계",key:"totQty",align:"center"},{title:"주문공급가액합계",key:"totUnitPrice",align:"center"},{title:"진행상태",key:"statusType",align:"center"},{title:"인쇄",key:"printYn",align:"center"}];Y(async()=>{v.value=await G.getCodeList("status_type"),b()});const _=i=>{O(i)?y.push({name:"ContractReg"}):y.push({name:"ContractDetail",params:{id:i}})},b=async()=>{p.value=!0;try{const i={...o};u.value=await R.getContractList(i)}catch(i){A(i.message)}finally{p.value=!1}},F=()=>{},L=()=>{z(k,u.value,"수주_목록")};return(i,a)=>{const T=s("v-breadcrumbs"),g=s("v-text-field"),D=s("v-select"),c=s("v-btn"),B=s("v-form"),C=s("v-col"),N=s("v-row"),U=s("v-card"),I=s("v-data-table");return x(),h(w,null,[e(T,{items:["MES","영업관리","수주관리"],class:"custom-breadcrumbs"}),e(U,{class:"pa-1",style:{height:"60px"}},{default:r(()=>[e(N,null,{default:r(()=>[e(C,null,{default:r(()=>[e(B,{ref_key:"srhForm",ref:f,onSubmit:q(b,["prevent"])},{default:r(()=>[n("div",H,[e(g,{modelValue:o.itemName,"onUpdate:modelValue":a[0]||(a[0]=t=>o.itemName=t),dense:"",density:"compact",label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(g,{modelValue:o.managerName,"onUpdate:modelValue":a[1]||(a[1]=t=>o.managerName=t),dense:"",density:"compact",label:"담당자명",placeholder:"담당자명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(g,{modelValue:o.customerName,"onUpdate:modelValue":a[2]||(a[2]=t=>o.customerName=t),dense:"",density:"compact",label:"거래처명",placeholder:"거래처명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(D,{modelValue:o.statusType,"onUpdate:modelValue":a[3]||(a[3]=t=>o.statusType=t),label:"진행상태",items:v.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"]),e(c,{color:"#EFEBE9",text:"조회",type:"submit"}),e(c,{text:"초기화",onClick:a[4]||(a[4]=t=>f.value.reset())})])]),_:1},512)]),_:1})]),_:1})]),_:1}),e(N,{class:"mb-1",style:{height:"70px"}},{default:r(()=>[e(C,null,{default:r(()=>[n("div",J,[e(c,{dense:"",color:"brown-lighten-4",class:"mt-3",text:"신규",onClick:a[5]||(a[5]=t=>_())}),e(c,{class:"mt-3 mr-3 excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:L})])]),_:1})]),_:1}),e(I,{headers:k,items:u.value,loading:p.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요","items-per-page":25},{headers:r(({columns:t})=>[n("tr",null,[(x(!0),h(w,null,Q(t,d=>(x(),h("th",{key:d.key,class:"custom-header",style:E([{height:"30px"},{textAlign:"center"}])},l(d.title),1))),128))])]),item:r(({item:t})=>[n("tr",K,[n("td",{style:{width:"100px",height:"30px","text-align":"center","text-decoration":"underline",cursor:"pointer"},onClick:d=>_(t.contractId)},l(t.contractDateSeq),9,W),n("td",{style:{width:"200px",height:"30px","text-decoration":"underline",cursor:"pointer"},onClick:d=>_(t.contractId)},l(t.itemName),9,X),n("td",Z,l(t.dueDate),1),n("td",tt,l(t.managerName),1),n("td",et,l(t.customerName),1),n("td",nt,l(V(S)(t.totQty)),1),n("td",at,l(V(S)(t.totSupplyPrice)),1),n("td",ot,l(t.statusType==="ING"?"진행중":"종료"),1),n("td",st,[n("p",{style:E([{padding:"4px","text-align":"center",cursor:"pointer"},{backgroundColor:t.printYn==="Y"?"#FFAB91":"transparent"}]),onClick:F}," 인쇄 ",4)])])]),_:1},8,["items","loading"])],64)}}},gt=$(lt,[["__scopeId","data-v-7aab80f3"]]);export{gt as default};
