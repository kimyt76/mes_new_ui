import{r as d,m as q,d as a,b as B,o as $,w as l,g as t,h as v,f as p,j as A,t as f,i as F}from"./index-C-Q3ea6s.js";import{A as P}from"./apiOrders-VrRkxjij.js";import{f as Q}from"./common-DX12Nz2N.js";const T={style:{"overflow-y":"auto",height:"calc(100% - 40px)"}},H={class:"wrap-cell"},I={class:"wrap-cell text-right"},E={__name:"ContractListPop",emits:["selected","close-contractDialog"],setup(M,{emit:x}){const i=x,g=d(!1),c=d([]),u=d([]),n=q({itemName:"",managerName:"",customerName:""}),y=[{title:"일자-No.",key:"contractDateSeq",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"250px"},{title:"납기일자",key:"dueDate",align:"start",width:"100px"},{title:"거래처명",key:"customerName",align:"start",width:"150px"},{title:"현재합계",key:"totQty",align:"end",width:"110px"},{title:"주문수량합계",key:"totQty",align:"end",width:"100px"},{title:"주문공급가액합계",key:"totSupplyPrice",align:"end",width:"110px"}],w=async()=>{const r={...n};setTimeout(async()=>{g.value=!1,u.value=await P.getContractList(r)},1e3)},b=()=>{console.log("선택된 행:",c.value),i("selected",c.value),i("close-contractDialog")};return(r,e)=>{const N=a("v-toolbar-title"),_=a("v-spacer"),V=a("v-icon"),s=a("v-btn"),h=a("v-toolbar"),m=a("v-text-field"),k=a("v-col"),C=a("v-form"),D=a("v-row"),L=a("v-data-table"),S=a("v-card-text"),U=a("v-card-actions"),j=a("v-card");return $(),B(j,null,{default:l(()=>[t(h,{height:"40",class:"d-flex align-center justify-space-between px-2 toolbar-Head"},{default:l(()=>[t(N,null,{default:l(()=>e[7]||(e[7]=[v("주문 조회")])),_:1}),t(_),t(s,{icon:"",onClick:e[0]||(e[0]=o=>i("close-contractDialog"))},{default:l(()=>[t(V,null,{default:l(()=>e[8]||(e[8]=[v("mdi-close")])),_:1})]),_:1})]),_:1}),t(_),t(S,null,{default:l(()=>[t(D,null,{default:l(()=>[t(C,{ref:"srhForm",onSubmit:A(w,["prevent"])},{default:l(()=>[t(k,{class:"d-flex flex-row ga-3"},{default:l(()=>[t(m,{modelValue:n.itemName,"onUpdate:modelValue":e[1]||(e[1]=o=>n.itemName=o),label:"품목명",density:"compact",style:{width:"200px"}},null,8,["modelValue"]),t(m,{modelValue:n.managerName,"onUpdate:modelValue":e[2]||(e[2]=o=>n.managerName=o),label:"담당자명",density:"compact",style:{width:"200px"}},null,8,["modelValue"]),t(m,{modelValue:n.customerName,"onUpdate:modelValue":e[3]||(e[3]=o=>n.customerName=o),label:"거래처명",density:"compact",style:{width:"200px"}},null,8,["modelValue"]),t(s,{text:"조회",color:"brown-lighten-4",type:"submit"}),t(s,{text:"초기화",onClick:e[4]||(e[4]=o=>r.srhForm.reset())})]),_:1})]),_:1},512)]),_:1}),p("div",T,[t(L,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),headers:y,items:u.value,"item-value":"contractId",density:"compact","fixed-header":"",height:"520px","show-select":"",class:"custom-table","return-object":""},{"item.name":l(({item:o})=>[p("div",H,f(o.name),1)]),"item.qty":l(({item:o})=>[p("div",I,f(F(Q)(o.qty)),1)]),_:1},8,["modelValue","items"])])]),_:1}),t(U,null,{default:l(()=>[t(s,{text:"선택",variant:"flat",class:"mb-4",color:"indigo-darken-3",onClick:b}),t(s,{text:"닫기",variant:"tonal",class:"mb-4 mr-3",onClick:e[6]||(e[6]=o=>i("close-contractDialog"))})]),_:1})]),_:1})}}};export{E as _};
