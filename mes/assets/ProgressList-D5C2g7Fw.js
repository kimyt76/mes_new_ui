import{M as F,A as m,W as B,H as E,e as h,p as t,k as l,l as a,F as N,o as f,P as Q,h as P,y as o,t as n,a2 as s,u as U,a0 as I}from"./index-BCdxernO.js";import{A as T}from"./apiOrders-LBbh7QBG.js";import{f as d}from"./common-Ctgf_4Dl.js";const j={class:"table-container"},$={__name:"ProgressList",setup(z){const{userId:V}=F(),p=m([]),u=m(!1),w=m(""),r=B({itemName:"",managerName:"",customerName:"",userId:V}),k=m([{title:"품목코드",key:"itemCd",align:"center",width:"110px"},{title:"품목명",key:"itemName",align:"start",width:"500px"},{title:"고객사",key:"customerName",align:"start",width:"300px"},{title:"수주일",key:"contractDate",align:"center",width:"120px"},{title:"판매일",key:"saleDate",align:"center",width:"120px"},{title:"출하일",key:"shipmentDate",align:"center",width:"120px"},{title:"총수량",key:"totQty",align:"end",width:"120px"},{title:"담당자",key:"managerName",align:"center",width:"100px"},{title:"수량",key:"qty",align:"end",width:"150px"},{title:"단가",key:"unitPrice",align:"end",width:"150px"},{title:"공급가액",key:"supplyPrice",align:"end",width:"150px"},{title:"부가세",key:"vatPrice",align:"end",width:"150px"},{title:"합계금액",key:"totPrice",align:"end",width:"180px"},{title:"거래방법",key:"tradingMethod",align:"center",width:"150px"}]),b=async()=>{try{u.value=!0;const _={...r};p.value=await T.getProgressList(_)}catch{}finally{u.value=!1}};E(async()=>{b()});const S=()=>{exportToExcel(k,p.value,"수주진행현황_목록")};return(_,i)=>{const C=l("v-breadcrumbs"),x=l("v-text-field"),y=l("v-btn"),g=l("v-col"),D=l("v-form"),v=l("v-row"),q=l("v-card-text"),A=l("v-card"),L=l("v-spacer"),M=l("v-data-table");return f(),h(N,null,[t(C,{items:["MES","영업관리","진행현황"],class:"custom-breadcrumbs"}),t(A,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[t(q,null,{default:a(()=>[t(v,null,{default:a(()=>[t(D,{ref_key:"srhForm",ref:w,onSubmit:Q(b,["prevent"])},{default:a(()=>[t(g,{class:"d-flex flex-row ga-3"},{default:a(()=>[t(x,{modelValue:r.itemName,"onUpdate:modelValue":i[0]||(i[0]=e=>r.itemName=e),density:"compact",label:"품목명",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"180px"}},null,8,["modelValue"]),t(x,{modelValue:r.managerName,"onUpdate:modelValue":i[1]||(i[1]=e=>r.managerName=e),density:"compact",label:"담당자",placeholder:"담당자를 입력해주세요",variant:"underlined",style:{width:"150px"}},null,8,["modelValue"]),t(x,{modelValue:r.customerName,"onUpdate:modelValue":i[2]||(i[2]=e=>r.customerName=e),density:"compact",label:"거래처명",placeholder:"거래처명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),t(y,{text:"조회",color:"brown-lighten-4",type:"submit"}),t(y,{text:"초기화",onClick:i[3]||(i[3]=e=>w.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),t(L),t(v,null,{default:a(()=>[t(g,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[t(y,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:S})]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(g,{class:"pa-0"},{default:a(()=>[P("div",j,[t(M,{headers:k.value,items:p.value,loading:u.value,"items-per-page":15,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요",density:"compact",height:"690px"},{headers:a(({columns:e})=>[P("tr",null,[(f(!0),h(N,null,U(e,c=>(f(),h("th",{key:c.key,style:I([{height:"40px"},{textAlign:"center",width:c.width||"auto"}])},n(c.title),5))),128))])]),"item.contractDateSeq":a(({item:e,index:c})=>[o(n(e.contractDateSeq),1)]),"item.itemName":a(({item:e,index:c})=>[o(n(e.itemName),1)]),"item.totQty":a(({item:e})=>[o(n(s(d)(e.totQty)),1)]),"item.qty":a(({item:e})=>[o(n(s(d)(e.qty)),1)]),"item.unitPrice":a(({item:e})=>[o(n(s(d)(e.unitPrice)),1)]),"item.supplyPrice":a(({item:e})=>[o(n(s(d)(e.supplyPrice)),1)]),"item.vatPrice":a(({item:e})=>[o(n(s(d)(e.vatPrice)),1)]),"item.totPrice":a(({item:e})=>[o(n(s(d)(e.totPrice)),1)]),_:1},8,["headers","items","loading"])])]),_:1})]),_:1})],64)}}};export{$ as default};
