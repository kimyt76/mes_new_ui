import{_ as A,a as H,u as D,m as O,n as j,d as a,b as J,o as w,w as l,g as e,h as b,r as p,c as E,F as $,j as K,f as c,t as y,x as Q}from"./index-BNL3Tgw5.js";import{A as I}from"./apiCommon-LY9rUrf-.js";import{e as W}from"./exportToExcel-Kkbtezxo.js";import"./_commonjsHelpers-CZnAS8i4.js";const X={__name:"CommonDetailPop",props:{title:{type:String},id:{type:String},mode:{type:String}},emits:["saved","close-dialog"],setup(F,{emit:N}){const{userId:g}=H(),{vError:C}=D(),v=N,f=F,n=O({comTypeCd:"",comTypeNm:"",code:"",codeNm:"",dispOrder:"",useYn:"",discription:"",userId:g}),x=[{text:"사용",value:"Y"},{text:"미사용",value:"N"}];j(async()=>{if(f.mode==="U"){const r=await I.getCommonInfo(f.id);Object.assign(n,r)}});const T=async()=>{try{const r={...n},t=await I.saveCommonInfo(r);v("saved",t),v("close-dialog")}catch(r){C(r.message)}};return(r,t)=>{const V=a("v-card-item"),i=a("v-text-field"),u=a("v-col"),_=a("v-row"),Y=a("v-select"),U=a("v-spacer"),h=a("v-btn"),m=a("v-card-actions"),o=a("v-card");return w(),J(o,null,{default:l(()=>[e(V,{title:f.title,style:{height:"30px"}},null,8,["title"]),e(_,{class:"mt-3"},{default:l(()=>[e(u,{cols:"12",md:"4",sm:"6",class:"ml-4"},{default:l(()=>[e(i,{modelValue:n.comTypeCd,"onUpdate:modelValue":t[0]||(t[0]=d=>n.comTypeCd=d),density:"compact",label:"공통타입",placeholder:"공통타입을 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"4",md:"4",sm:"6"},{default:l(()=>[e(i,{modelValue:n.comTypeNm,"onUpdate:modelValue":t[1]||(t[1]=d=>n.comTypeNm=d),density:"compact",label:"공통타입명",placeholder:"공통타입 이름 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(u,{cols:"6",md:"4",sm:"6",class:"ml-4"},{default:l(()=>[e(i,{modelValue:n.code,"onUpdate:modelValue":t[2]||(t[2]=d=>n.code=d),density:"compact",label:"코드",placeholder:"코드를 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6",md:"4",sm:"6"},{default:l(()=>[e(i,{modelValue:n.codeNm,"onUpdate:modelValue":t[3]||(t[3]=d=>n.codeNm=d),density:"compact",label:"코드명",placeholder:"코드명을 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(u,{cols:"6",md:"4",sm:"6",class:"ml-4"},{default:l(()=>[e(i,{modelValue:n.dispOrder,"onUpdate:modelValue":t[4]||(t[4]=d=>n.dispOrder=d),density:"compact",label:"순서",type:"number",placeholder:"순서를 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:l(()=>[e(Y,{modelValue:n.useYn,"onUpdate:modelValue":t[5]||(t[5]=d=>n.useYn=d),items:x,"item-title":"text","item-value":"value",density:"compact",label:"사용유무",placeholder:"사용유무를 선택해주세요",variant:"underlined"},{default:l(()=>t[8]||(t[8]=[b(" >")])),_:1},8,["modelValue"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(u,{cols:"6",md:"4",sm:"6",class:"ml-4"},{default:l(()=>[e(i,{modelValue:n.discription,"onUpdate:modelValue":t[6]||(t[6]=d=>n.discription=d),density:"compact",label:"비고",placeholder:"비고를 입력해주세요",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(U),e(h,{color:"indigo-darken-4",text:"저장",variant:"tonal",depressed:"",onClick:T}),e(h,{text:"닫기",variant:"tonal",onClick:t[7]||(t[7]=d=>v("close-dialog"))})]),_:1})]),_:1})}}},Z=A(X,[["__scopeId","data-v-b9ed39e1"]]),ee={class:"d-flex ga-4"},te={class:"d-flex ga-4 justify-end"},le={class:"custom-list",style:{height:"30px"}},oe=["onClick"],ne={class:"custom-row",style:{width:"150px",height:"30px"}},se={class:"custom-row",style:{width:"150px",height:"30px"}},ae={style:{width:"550px",height:"30px"}},de={class:"custom-row",style:{width:"80px",height:"30px"}},me={style:{height:"30px",width:"200px"}},ie={__name:"CommonMgmtList",setup(F){const{vSuccess:N}=D(),g=p(""),C=p(null),v=p(!1),f=p("N"),n=p(!1),x=p([]),T=[{text:"사용",value:"Y"},{text:"미사용",value:"N"}],r=p([{title:"코드구분",key:"comTypeCd",align:"center"},{title:"구분명",key:"comTypeNm",align:"center"},{title:"코드",key:"code",align:"center"},{title:"코드명",key:"codeNm",align:"center"},{title:"사용여부",key:"useYn",align:"center"},{title:"비고",key:"descrition",align:"center"}]),t=O({comTypeCd:null,codeNm:null,useYn:"Y"}),V=async()=>{v.value=!0;const m={...t};try{x.value=await I.getCommonList(m)}catch(o){alert(o.massage)}finally{v.value=!1}},i=p(""),u=m=>{i.value=m,_("U")},_=m=>{m==="N"?(g.value="공통코드 등록",i.value=null):(g.value="공통코드 수정",f.value=m),n.value=!0},Y=m=>{N(m),V()};j(V);const U=()=>{C.value.reset(),t.useYn="Y"},h=()=>{W(r,x.value,"공통코드_목록")};return(m,o)=>{const d=a("v-breadcrumbs"),L=a("v-text-field"),P=a("v-select"),k=a("v-btn"),B=a("v-col"),M=a("v-row"),R=a("v-form"),q=a("v-card"),z=a("v-data-table"),G=a("v-dialog");return w(),E($,null,[e(d,{items:["MES","시스템관리","공통코드 관리"]}),e(q,{class:"pa-3",color:"blue-grey-lighten-5",style:{height:"60px"}},{default:l(()=>[e(R,{ref_key:"srhForm",ref:C,onSubmit:K(V,["prevent"])},{default:l(()=>[e(M,null,{default:l(()=>[e(B,{style:{"background-color":"#ECEFF1"}},{default:l(()=>[c("div",ee,[e(L,{modelValue:t.comTypeCd,"onUpdate:modelValue":o[0]||(o[0]=s=>t.comTypeCd=s),density:"compact",label:"코드구분",placeholder:"코드구분명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(L,{modelValue:t.codeNm,"onUpdate:modelValue":o[1]||(o[1]=s=>t.codeNm=s),density:"compact",label:"코드명",placeholder:"직급을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(P,{modelValue:t.useYn,"onUpdate:modelValue":o[2]||(o[2]=s=>t.useYn=s),label:"사용여부",items:T,"item-title":"text","item-value":"value",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(k,{dense:"",color:"#EFEBE9",class:"mt-2",type:"submit",density:"compact"},{default:l(()=>o[6]||(o[6]=[b("조회")])),_:1}),e(k,{dense:"",class:"mt-2",density:"compact",onClick:U},{default:l(()=>o[7]||(o[7]=[b("초기화")])),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(M,{class:"mb-1"},{default:l(()=>[e(B,null,{default:l(()=>[c("div",te,[e(k,{density:"compact",color:"brown-lighten-4",class:"mt-3",onClick:o[3]||(o[3]=s=>_("N"))},{default:l(()=>o[8]||(o[8]=[b("신규")])),_:1}),e(k,{density:"compact",class:"mt-3 mr-3",onClick:h},{default:l(()=>o[9]||(o[9]=[b("엑셀")])),_:1})])]),_:1})]),_:1}),e(z,{headers:r.value,items:x.value,loading:v.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요","items-per-page":25},{headers:l(({columns:s})=>[c("tr",null,[(w(!0),E($,null,Q(s,S=>(w(),E("th",{key:S.key,class:"custom-header"},y(S.title),1))),128))])]),item:l(({item:s})=>[c("tr",le,[c("td",{style:{width:"200px",height:"30px",cursor:"pointer"},onClick:S=>u(s.comId)},y(s.comTypeCd),9,oe),c("td",ne,y(s.comTypeNm),1),c("td",se,y(s.code),1),c("td",ae,y(s.codeNm),1),c("td",de,y(s.useYn==="Y"?"사용":"미사용"),1),c("td",me,y(s.descrition),1)])]),_:1},8,["headers","items","loading"]),e(G,{modelValue:n.value,"onUpdate:modelValue":o[5]||(o[5]=s=>n.value=s),"max-width":"600px",persistent:""},{default:l(()=>[e(Z,{title:g.value,mode:f.value,id:i.value,onSaved:Y,onCloseDialog:o[4]||(o[4]=s=>n.value=!1)},null,8,["title","mode","id"])]),_:1},8,["modelValue"])],64)}}},ve=A(ie,[["__scopeId","data-v-80047e06"]]);export{ve as default};
