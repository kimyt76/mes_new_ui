import{u as O,r as d,k as q,m as z,n as H,c as J,f as I,g as e,d as m,w as o,F as K,e as Q,o as P,i as c,j as W,b as X,p as Z}from"./index-B3k6qWTO.js";import{A as r}from"./apiCommon-Cgp-9u3n.js";import{A as y}from"./apiItem-BPoKeJui.js";import{p as L,f as G}from"./common-5ptPHjCv.js";import{C as ee}from"./CustomerListPop-Bo34R7Zz.js";import"./format-CBpsKyOP.js";const te=["id"],le={class:"d-flex ga-4 justify-end"},se={__name:"ItemDetail",setup(ae){const{vError:T,vSuccess:M}=O(),v=d(!1);d(!0);const V=d(!1),f=q(),k=Q(),x=d([]),b=d([]),w=d([]),g=d([]),_=d([]),C=d([]),E=[{text:"사용",value:"Y"},{text:"미사용",value:"N"}],h=f.params.id,l=z({itemCd:h,itemTypeCd:"",itemName:"",customerName:"",itemGrp1:"",itemGrp2:"",useCate:"",inPrice:"",outPrice:"",itemCategory1:"",itemCategory2:"",etc:"",useYn:""});H(async()=>{x.value=await r.getCodeList("ITEM_TYPE_CD"),b.value=await r.getCodeList("ITEM_GRP1"),w.value=await r.getCodeList("ITEM_GRP2");const i=await y.getItemInfo(f.params.id);["M2","M7"].includes(i.itemTypeCd)?(g.value=await r.getCodeList("use_Cate"),g.value=await r.getCodeList("use_Cate"),_.value=await r.getCodeList("order_cate"),C.value=await r.getCodeList("sub_item"),V.value=!0):(_.value=await y.getProdLList(),l.itemCategory1=i.itemCategory1,C.value=await y.getProdMList(i.itemCategory1),l.itemCategory2=i.itemCategory2),Object.assign(l,i)});const S=(i,t)=>{l.customerCd=i,l.customerName=t},A=async()=>{try{const i={...l},t=await y.updateItemInfo(i);M(t),N()}catch{T("저장에 실패했습니다.")}},Y=()=>{v.value=!0},N=()=>{k.push({name:"ItemList"})};return(i,t)=>{const B=m("v-breadcrumbs"),R=m("v-card-item"),u=m("v-text-field"),n=m("v-col"),s=m("v-select"),p=m("v-row"),U=m("v-btn"),j=m("v-form"),D=m("v-card-text"),$=m("v-card"),F=m("v-dialog");return P(),J(K,null,[I("div",{id:i.$attrs.id},null,8,te),e(B,{items:["MES","기본관리","품목관리"]}),e($,null,{default:o(()=>[e(R,{title:`품목코드 : ${c(f).params.id}`},null,8,["title"]),e(D,null,{default:o(()=>[e(j,{onSubmit:W(A,["prevent"])},{default:o(()=>[e(p,null,{default:o(()=>[e(n,{cols:"9",style:{height:"60px"},class:"mt-5"},{default:o(()=>[e(u,{modelValue:l.itemName,"onUpdate:modelValue":t[0]||(t[0]=a=>l.itemName=a),label:"품목명",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"},class:"mt-5"},{default:o(()=>[e(s,{modelValue:l.itemTypeCd,"onUpdate:modelValue":t[1]||(t[1]=a=>l.itemTypeCd=a),label:"품목구분",items:x.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"},class:"mt-5"},{default:o(()=>[V.value?(P(),X(s,{key:0,modelValue:l.useCate,"onUpdate:modelValue":t[2]||(t[2]=a=>l.useCate=a),label:"사용구분",items:g.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])):Z("",!0)]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:l.itemCategory1,"onUpdate:modelValue":t[3]||(t[3]=a=>l.itemCategory1=a),label:"대분류",items:_.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:l.itemCategory2,"onUpdate:modelValue":t[4]||(t[4]=a=>l.itemCategory2=a),label:"중분류",items:C.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:l.customerName,"onUpdate:modelValue":t[5]||(t[5]=a=>l.customerName=a),label:"거래처명",variant:"underlined",density:"compact","append-inner-icon":"mdi-magnify","onClick:appendInner":Y},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:l.itemGrp1,"onUpdate:modelValue":t[6]||(t[6]=a=>l.itemGrp1=a),label:"거래유형",items:b.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:l.itemGrp2,"onUpdate:modelValue":t[7]||(t[7]=a=>l.itemGrp2=a),label:"제품유형",items:w.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:l.unit,"onUpdate:modelValue":t[8]||(t[8]=a=>l.unit=a),label:"단위",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:l.spec,"onUpdate:modelValue":t[9]||(t[9]=a=>l.spec=a),label:"SPEC",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{"model-value":c(G)(l.inPrice),label:"입고단가",variant:"underlined",density:"compact","onUpdate:modelValue":t[10]||(t[10]=a=>l.inPrice=c(L)(a))},null,8,["model-value"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{"model-value":c(G)(l.outPrice),label:"출고단가",variant:"underlined",density:"compact","onUpdate:modelValue":t[11]||(t[11]=a=>l.outPrice=c(L)(a))},null,8,["model-value"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:l.useYn,"onUpdate:modelValue":t[12]||(t[12]=a=>l.useYn=a),label:"사용유무",items:E,"item-title":"text","item-value":"value",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:l.etc,"onUpdate:modelValue":t[13]||(t[13]=a=>l.etc=a),label:"비고",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,null,{default:o(()=>[e(n,null,{default:o(()=>[I("div",le,[e(U,{color:"indigo-darken-4",text:"저장",variant:"tonal",type:"submit"}),e(U,{text:"목록",variant:"tonal",onClick:N})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{modelValue:v.value,"onUpdate:modelValue":t[15]||(t[15]=a=>v.value=a),"max-width":"800px",height:"700px",persistent:""},{default:o(()=>[e(ee,{onSelected:S,onCloseDialog:t[14]||(t[14]=a=>v.value=!1)})]),_:1},8,["modelValue"])],64)}}};export{se as default};
