import{a as k,s as H}from"./index-Z2YNGKhZ.js";import{s as j}from"./index-D49h5Cbk.js";import{K as L,U as S,A as r,W as T,H as $,e as A,p as t,h as n,l as i,P as B,G as D,F as I,o as U,a0 as _,t as E}from"./index-BCdxernO.js";import{s as F}from"./index-CKfU0QJd.js";import{s as P}from"./index-DhHuXiFi.js";import{s as z}from"./index-WWuz9eST.js";import{s as G}from"./index-BE87lW_G.js";import{A as K}from"./apiCommon-DQdCmI3G.js";import{A as M}from"./apiOrders-LBbh7QBG.js";import{i as O}from"./common-Ctgf_4Dl.js";import{e as R}from"./exportToExcel-BIsrPQTg.js";import"./index-BGn1OEmN.js";const q={class:"flex flex-wrap items-center gap-2 w-full"},W={class:"flex items-center justify-end gap-2 mb-2"},Y=["onClick"],J={__name:"SaleList",setup(Q){const x=S(),c=r([]),u=r([]),f=r(null),o=T({itemName:"",managerName:"",clientName:"",statusType:""}),y=async()=>{const a={...o};c.value=await M.getSaleList(a)},b=a=>{let e="판매 등록";O(a)||(e="판매 상세"),x.open(RecipeDetailPop,{props:{header:e,modal:!0,maximizable:!1,draggable:!0,style:{overflow:"hidden"},pt:{root:{style:{overflow:"hidden"}},content:{style:{overflow:"hidden"}}}},data:a,onClose:async w=>{await y()}})},v=r({icon:"pi pi-home"}),h=r([{label:"영업관리"},{label:"판매관리"},{label:"판매목록"}]);$(async()=>{u.value=await K.getCodeList("status_type")});const g=()=>{var e;const a=((e=f.value)==null?void 0:e.columns)??[];if(!a.length){console.warn("No Columns Found");return}R(c.value,"판매 리스트",a)};return(a,e)=>{const w=G,m=z,d=P,C=F,p=D,N=j,s=H,V=k;return U(),A(I,null,[t(w,{home:v.value,model:h.value},null,8,["home","model"]),n("form",{onSubmit:B(y,["prevent"]),class:"space-y-4"},[t(N,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:i(()=>[n("div",q,[t(d,{variant:"on"},{default:i(()=>[t(m,{id:"on_label",modelValue:o.itemName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.itemName=l),style:{width:"150px"}},null,8,["modelValue"]),e[5]||(e[5]=n("label",{for:"on_label"},"품목명",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(m,{id:"on_label1",modelValue:o.clientName,"onUpdate:modelValue":e[1]||(e[1]=l=>o.clientName=l),style:{width:"250px"}},null,8,["modelValue"]),e[6]||(e[6]=n("label",{for:"on_label1"},"고객사명",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(m,{id:"on_label1",modelValue:o.managerName,"onUpdate:modelValue":e[2]||(e[2]=l=>o.managerName=l),style:{width:"250px"}},null,8,["modelValue"]),e[7]||(e[7]=n("label",{for:"on_label1"},"담당자",-1))]),_:1}),t(d,{variant:"on"},{default:i(()=>[t(C,{id:"on_label1",modelValue:o.statusType,"onUpdate:modelValue":e[3]||(e[3]=l=>o.statusType=l),options:u.value,optionLabel:"codeNm",optionValue:"code"},null,8,["modelValue","options"]),e[8]||(e[8]=n("label",{for:"on_label1"},"진행상태",-1))]),_:1}),t(p,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),n("div",W,[t(p,{label:"신규",icon:"pi pi-plus",severity:"secondary",onClick:e[4]||(e[4]=l=>b(""))}),t(p,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:g})]),n("div",null,[t(V,{ref_key:"dt",ref:f,paginator:"",rows:20,value:a.saleList,dataKey:"saleId",rowsPerPageOptions:[20,30,40],scrollable:"",scrollHeight:"650px",showGridlines:"",class:"my-table"},{default:i(()=>[t(s,{field:"saleDateSeq",header:"제품명",style:_([{width:"140px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"itemName",header:"품목명",style:_([{width:"400px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:i(l=>[n("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:X=>b(l.data.saleId),class:"clickable-cell"},E(l.data.itemName),9,Y)]),_:1}),t(s,{field:"managerName",header:"담당자",style:{width:"110px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"clientName",header:"거래처명",style:{width:"200px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"totPrice",header:"금액합계",style:{width:"110px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"transactionTypeName",header:"거래유형",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"descStorageName",header:"창고명",style:{width:"110px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"contractId",header:"주문서",style:{width:"40px"},pt:{columnHeaderContent:"justify-center"}}),t(s,{field:"printYn",header:"인쇄",style:{width:"50px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value"])])],64)}}},pe=L(J,[["__scopeId","data-v-d3c8c606"]]);export{pe as default};
