import{r as p,k as F,m as S,A as B,c as E,g as e,d as l,w as a,F as R,e as T,o as U,j,h as f,t as u,i as y,f as D}from"./index-B3xMVO1S.js";import{e as I}from"./exportToExcel-Kkbtezxo.js";import{f as g}from"./common-UsHpmNCI.js";import{A as $}from"./apiItem-CMAZLzU4.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const q=["onClick"],W={__name:"MaterialList",setup(H){const h=T(),_=p(null),s=p([]),w=p([]),o=F({itemTypeCd:"M1",itemName:"",itemCd:"",ingredientName:"",customerName:""}),x=[{title:"No.",key:"rowNum",align:"center",width:"30px"},{title:"품목코드",key:"itemCd",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"거래처",key:"customerName",align:"start",width:"200px"},{title:"제조원",key:"qty",align:"center",width:"100px"},{title:"입고단가",key:"inPrice",align:"end",width:"100px"},{title:"출고단가",key:"outPrice",align:"end",width:"100px"},{title:"Vegan",key:"vegan",align:"center",width:"60px"},{title:"Halal",key:"halal",align:"center",width:"60px"},{title:"RSPO",key:"rspo",align:"center",width:"60px"}],v=async()=>{const i={...o};s.value=await $.getItemList(i)},k=(i,n)=>{h.push({name:"MaterialDetail",params:{id:i.itemCd}})};S(async()=>{w.value=await B.getCodeList("use_yn"),v()});const b=()=>{I(x,s.value,"원료_목록")};return(i,n)=>{const C=l("v-breadcrumbs"),r=l("v-text-field"),m=l("v-btn"),c=l("v-col"),N=l("v-form"),d=l("v-row"),V=l("v-card-text"),M=l("v-card"),P=l("v-spacer"),L=l("v-data-table");return U(),E(R,null,[e(C,{items:["MES","연구관리","원료정보"],class:"custom-breadcrumbs"}),e(M,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(V,null,{default:a(()=>[e(d,null,{default:a(()=>[e(N,{ref_key:"srhForm",ref:_,onSubmit:j(v,["prevent"])},{default:a(()=>[e(c,{class:"d-flex ga-4"},{default:a(()=>[e(r,{modelValue:o.itemName,"onUpdate:modelValue":n[0]||(n[0]=t=>o.itemName=t),label:"품목명",density:"compact",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(r,{modelValue:o.itemCd,"onUpdate:modelValue":n[1]||(n[1]=t=>o.itemCd=t),label:"품목코드",density:"compact",variant:"underlined",placeholder:"품목명를 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(r,{modelValue:o.customerName,"onUpdate:modelValue":n[2]||(n[2]=t=>o.customerName=t),label:"거래처명",density:"compact",variant:"underlined",placeholder:"거래처명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(m,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(m,{text:"초기화",onClick:n[3]||(n[3]=t=>_.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(P),e(d,null,{default:a(()=>[e(c,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(m,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:b})]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(c,{class:"pa-0"},{default:a(()=>[e(L,{headers:x,items:s.value,density:"compact","fixed-header":"","items-per-page":15,height:"720px",class:"custom-table"},{"item.itemName":a(({item:t,index:A})=>[D("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:O=>k(t,A)},u(t.itemName),9,q)]),"item.inPrice":a(({item:t})=>[f(u(y(g)(t.inPrice)),1)]),"item.outPrice":a(({item:t})=>[f(u(y(g)(t.outPrice)),1)]),_:1},8,["items"])]),_:1})]),_:1})],64)}}};export{W as default};
