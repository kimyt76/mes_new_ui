import{_ as F,r as f,m as U,n as q,c as _,g as e,d as l,w as a,F as N,e as A,o as x,j as B,f as v,t as h,v as I,E as M}from"./index-C0I8_ih4.js";import{i as j}from"./common-Dg66kV3l.js";import{A as R}from"./apiOrders-CDUwT9YC.js";import"./apiCommon-kSGeiy8j.js";import"./format-CBpsKyOP.js";const z={__name:"DratfList",setup(O){const y=A(),g=f(!1),m=f([]),n=U({itemName:"",customerName:"",draftNaem:""}),b=f([{title:"문서번호",key:"draftDateSeq",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"고객사명",key:"customerName",align:"start",width:"250px"},{title:"기안일자",key:"draftDate",align:"center",width:"110px"},{title:"기안자",key:"draftUserName",align:"center",width:"100px"}]),s=(r,o)=>{j(r.draftId)?y.push({name:"DraftNew"}):y.push({name:"DraftDetail",params:{id:r.item.draftId}})},w=async()=>{g.value=!0;const r={...n};m.value=await R.getDraftList(r),g.value=!1};q(()=>{w()});const k=()=>{exportToExcel(b,m.value,"기안서_목록")};return(r,o)=>{const D=l("v-breadcrumbs"),c=l("v-text-field"),i=l("v-btn"),p=l("v-col"),V=l("v-form"),u=l("v-row"),C=l("v-card-text"),S=l("v-card"),L=l("v-spacer"),E=l("v-data-table");return x(),_(N,null,[e(D,{items:["MES","수주관리","기안서관리"],class:"custom-breadcrumbs"}),e(S,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(C,null,{default:a(()=>[e(u,null,{default:a(()=>[e(V,{ref:"srhForm",onSubmit:B(w,["prevent"])},{default:a(()=>[e(p,{class:"d-flex ga-4"},{default:a(()=>[e(c,{modelValue:n.itemName,"onUpdate:modelValue":o[0]||(o[0]=t=>n.itemName=t),label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"180px"}},null,8,["modelValue"]),e(c,{modelValue:n.customerName,"onUpdate:modelValue":o[1]||(o[1]=t=>n.customerName=t),density:"compact",label:"고객사명",placeholder:"고객사명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),e(c,{modelValue:n.draftNaem,"onUpdate:modelValue":o[2]||(o[2]=t=>n.draftNaem=t),label:"기안자",placeholder:"기안자명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"150px"}},null,8,["modelValue"]),e(i,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(i,{text:"초기화",onClick:o[3]||(o[3]=t=>r.srhForm.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(L),e(u,null,{default:a(()=>[e(p,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(i,{color:"brown-lighten-4",text:"신규",onClick:s}),e(i,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:k})]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(p,{class:"pa-0"},{default:a(()=>[e(E,{headers:b.value,items:m.value,"items-per-page":15,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요",density:"compact","fixed-header":"",height:"690px","onClick:row":s},{headers:a(({columns:t})=>[v("tr",null,[(x(!0),_(N,null,I(t,d=>(x(),_("th",{key:d.key,class:"custom-header",style:M([{height:"40px"},{textAlign:"center"}])},h(d.title),1))),128))])]),"item.draftDateSeq":a(({item:t,index:d})=>[v("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:s},h(t.draftDateSeq),1)]),"item.itemName":a(({item:t,index:d})=>[v("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:s},h(t.itemName),1)]),_:1},8,["headers","items"])]),_:1})]),_:1})],64)}}},K=F(z,[["__scopeId","data-v-bd058fd3"]]);export{K as default};
