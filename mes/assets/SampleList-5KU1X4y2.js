import{_ as L,a as I,r as d,k as U,m as q,A as E,c as F,g as e,d as n,w as s,F as B,e as D,o as R,j,h as T,t as x,f as $}from"./index-DjI8e8VZ.js";import{A as Q}from"./apiLab-C2sC-jhp.js";import{e as z}from"./exportToExcel-Kkbtezxo.js";import"./_commonjsHelpers-CZnAS8i4.js";const G=["onClick"],H={__name:"SampleList",setup(J){const{userId:f}=I(),b=D(),_=d(null),c=d([]),i=d([]),l=U({areaCd:"",clientName:"",itemName:"",busisnessManagerName:"",labManagerName:"",sampleId:"",userId:f}),v=d([{title:"공장명",key:"areaName",align:"center"},{title:"업체명",key:"clientName",align:"start"},{title:"품목명",key:"itemName",align:"start"},{title:"제형",key:"formulationCd",align:"center"},{title:"영업담당자명",key:"businessManagerName",align:"center"},{title:"연구담당자명",key:"labManagerName",align:"center"},{title:"의뢰일자",key:"reqDate",align:"center"},{title:"제품관리번호",key:"prodMgmtNo",align:"center"},{title:"횟수",key:"countQty",align:"center"},{title:"수량",key:"qty",align:"center"},{title:"특이사항",key:"etc",align:"start"}]),N=async()=>{const o={...l};c.value=await Q.getSampleList(o)},y=(o,a)=>{b.push({name:"SampleDetail",params:{id:o.sampleId}})};q(async()=>{i.value=await E.getCodeList("AREA"),i.value=i.value.filter(o=>!["A003"].includes(o.code))});const k=()=>{z(v,c.value,"원료_목록")};return(o,a)=>{const V=n("v-breadcrumbs"),C=n("v-select"),r=n("v-text-field"),m=n("v-btn"),u=n("v-col"),w=n("v-form"),p=n("v-row"),h=n("v-card-text"),M=n("v-card"),S=n("v-spacer"),A=n("v-data-table");return R(),F(B,null,[e(V,{items:["MES","연구관리","샘플 리스트"],class:"custom-breadcrumbs"}),e(M,{class:"pa-1",style:{height:"60px"}},{default:s(()=>[e(h,null,{default:s(()=>[e(p,null,{default:s(()=>[e(w,{ref_key:"srhForm",ref:_,onSubmit:j(N,["prevent"])},{default:s(()=>[e(u,{class:"d-flex ga-4"},{default:s(()=>[e(C,{modelValue:l.areaCd,"onUpdate:modelValue":a[0]||(a[0]=t=>l.areaCd=t),items:i.value,label:"공장명","item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",style:{width:"150px"}},null,8,["modelValue","items"]),e(r,{modelValue:l.clientName,"onUpdate:modelValue":a[1]||(a[1]=t=>l.clientName=t),label:"업체명",variant:"underlined",density:"compact",style:{width:"200px"}},null,8,["modelValue"]),e(r,{modelValue:l.itemName,"onUpdate:modelValue":a[2]||(a[2]=t=>l.itemName=t),label:"품목명",variant:"underlined",density:"compact",style:{width:"200px"}},null,8,["modelValue"]),e(r,{modelValue:l.businessManagerName,"onUpdate:modelValue":a[3]||(a[3]=t=>l.businessManagerName=t),label:"영업담당자명",variant:"underlined",density:"compact",style:{width:"100px"}},null,8,["modelValue"]),e(r,{modelValue:l.labManagerName,"onUpdate:modelValue":a[4]||(a[4]=t=>l.labManagerName=t),label:"연구담당자명",variant:"underlined",density:"compact",style:{width:"100px"}},null,8,["modelValue"]),e(m,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(m,{text:"초기화",onClick:a[5]||(a[5]=t=>_.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(S),e(p,null,{default:s(()=>[e(u,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:s(()=>[e(m,{text:"신규",onClick:y}),e(m,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:k})]),_:1})]),_:1}),e(p,null,{default:s(()=>[e(u,{class:"pa-0"},{default:s(()=>[e(A,{headers:v.value,items:c.value,density:"compact","fixed-header":"","items-per-page":15,height:"680px",class:"custom-table"},{"item.itemName":s(({item:t,index:g})=>[$("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:K=>y(t,g)},x(t.itemName),9,G)]),"item.qty":s(({item:t,index:g})=>[T(x(t.qty)+" ea ",1)]),_:1},8,["headers","items"])]),_:1})]),_:1})],64)}}},Y=L(H,[["__scopeId","data-v-a3728b19"]]);export{Y as default};
