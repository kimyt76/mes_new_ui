import{r as p,n as A,d as o,c as N,o as C,g as e,w as n,h as U,t as r,f as s,i as V,F as q,_ as Y,m as Q,e as R,j as z,y as j,x as H}from"./index-BNL3Tgw5.js";import{A as B}from"./apiOrders-Whxuw2Cj.js";import{e as O}from"./exportToExcel-Kkbtezxo.js";import{f as E,i as G}from"./common-BOBTT4pT.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./apiCommon-LY9rUrf-.js";import"./format-CBpsKyOP.js";const J={class:"wrap-cell text-right"},K={__name:"ShipmentPop",props:{id:{type:String},no:{type:String}},emits:["close-dialog"],setup(F,{emit:f}){const _=f,h=p([]),d=F,v=[{title:"품목코드",key:"itemCd",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"250px"},{title:"수량",key:"qty",align:"end",width:"120px"},{title:"판매",key:"saleDateSeq",align:"center",width:"110px"}],b=async()=>{h.value=await B.getShipmentItemList(d.id)};return A(async()=>{b()}),(k,a)=>{const w=o("v-toolbar-title"),S=o("v-spacer"),g=o("v-icon"),x=o("v-btn"),D=o("v-toolbar"),i=o("v-card-subtitle"),l=o("v-card-item"),$=o("v-data-table-virtual"),y=o("v-col"),u=o("v-row"),I=o("v-card");return C(),N(q,null,[e(D,{height:"40",class:"d-flex align-center justify-space-between px-2 toolbar-Head"},{default:n(()=>[e(w,null,{default:n(()=>a[2]||(a[2]=[U("판매 목록")])),_:1}),e(S),e(x,{icon:"",onClick:a[0]||(a[0]=c=>_("close-dialog"))},{default:n(()=>[e(g,null,{default:n(()=>a[3]||(a[3]=[U("mdi-close")])),_:1})]),_:1})]),_:1}),e(I,null,{default:n(()=>[e(S),e(l,null,{default:n(()=>[e(i,null,{default:n(()=>[U(" 판매조회 : "+r(d.no),1)]),_:1})]),_:1}),e(l,null,{default:n(()=>[e($,{headers:v,items:h.value,density:"compact","fixed-header":"",height:"300px",class:"custom-table"},{"item.qty":n(({item:c})=>[s("div",J,r(V(E)(c.qty)),1)]),_:1},8,["items"])]),_:1}),e(u,null,{default:n(()=>[e(y,{class:"d-flex justify-end"},{default:n(()=>[e(x,{text:"닫기",variant:"tonal",class:"mb-4 mr-4",onClick:a[1]||(a[1]=c=>_("close-dialog"))})]),_:1})]),_:1})]),_:1})],64)}}},W={class:"d-flex ga-5"},X={class:"d-flex ga-4 justify-end"},Z={style:{height:"30px"}},ee=["onClick"],te=["onClick"],ne={style:{width:"200px",height:"30px","text-align":"center"}},le={style:{width:"90px",height:"30px","text-align":"center"}},oe={style:{width:"100px",height:"30px","text-align":"right"}},ae={style:{width:"90px",height:"30px","text-align":"center"}},se={style:{width:"90px",height:"30px","text-align":"center"}},ie={style:{width:"90px",height:"30px","text-align":"center"}},re={style:{width:"40px",height:"30px","text-align":"center"}},de=["onClick"],ce={__name:"ShipmentList",setup(F){let f=p(""),_=p("");const h=R(),d=p(!1),v=p(!1),b=p(""),k=p([]),a=Q({itemName:"",releaseUserName:"",customerName:""}),w=[{title:"일자-No.",key:"shipmentDateSeq",align:"center"},{title:"품목명",key:"itemName",align:"center"},{title:"거래처명",key:"customerName",align:"center"},{title:"담당자명",key:"releaseUserName",align:"center"},{title:"수량합계",key:"totQty",align:"center"},{title:"출하예정일",key:"dueDate",align:"center"},{title:"출고시간",key:"releaseTime",align:"center"},{title:"창고명",key:"descStorageName",align:"center"},{title:"인쇄",key:"printYn",align:"center"},{title:"판매",key:"shipmentId",align:"center"}],S=(i,l)=>{_.value=i,f.value=l,d.value=!0},g=i=>{G(i)?h.push({name:"ShipmentReg"}):h.push({name:"ShipmentDetail",params:{id:i}})},x=async()=>{v.value=!0;const i={...a};k.value=await B.getShipmentList(i),v.value=!1};A(async()=>{x()});const D=()=>{O(w,k.value,"출하지시서_목록")};return(i,l)=>{const $=o("v-breadcrumbs"),y=o("v-text-field"),u=o("v-btn"),I=o("v-form"),c=o("v-col"),L=o("v-row"),T=o("v-card"),M=o("v-data-table"),P=o("v-dialog");return C(),N(q,null,[e($,{items:["MES","영업관리","출하지시서관리"],class:"custom-breadcrumbs"}),e(T,{class:"pa-1",variant:"outlined",style:{height:"60px"}},{default:n(()=>[e(L,{class:"mt-1"},{default:n(()=>[e(c,{class:"ml-2 mr-2"},{default:n(()=>[e(I,{ref_key:"srhForm",ref:b,onSubmit:z(x,["prevent"])},{default:n(()=>[s("div",W,[e(y,{modelValue:a.itemName,"onUpdate:modelValue":l[0]||(l[0]=t=>a.itemName=t),label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(y,{modelValue:a.releaseUserName,"onUpdate:modelValue":l[1]||(l[1]=t=>a.releaseUserName=t),label:"담당자명",placeholder:"담당자을 입력해주세요",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(y,{modelValue:a.customerName,"onUpdate:modelValue":l[2]||(l[2]=t=>a.customerName=t),label:"거래처명",placeholder:"거래처명을 입력해주세요",variant:"underlined",density:"compact"},null,8,["modelValue"]),e(u,{text:"조회",variant:"tonal",type:"submit"}),e(u,{text:"초기화",onClick:l[3]||(l[3]=t=>b.value.reset())})])]),_:1},512)]),_:1})]),_:1})]),_:1}),e(L,{style:{height:"70px"}},{default:n(()=>[e(c,null,{default:n(()=>[s("div",X,[e(u,{dense:"",color:"brown-lighten-4",class:"mt-3",text:"신규",onClick:l[4]||(l[4]=t=>g())}),e(u,{class:"mt-3 mr-2 excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:D})])]),_:1})]),_:1}),e(L,null,{default:n(()=>[e(c,null,{default:n(()=>[e(M,{headers:w,items:k.value,loading:v.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요","items-per-page":15},{headers:n(({columns:t})=>[s("tr",null,[(C(!0),N(q,null,H(t,m=>(C(),N("th",{key:m.key,class:"custom-header",style:j([{height:"30px"},{textAlign:"center"}])},r(m.title),1))),128))])]),item:n(({item:t})=>[s("tr",Z,[s("td",{style:{width:"100px",height:"30px","text-align":"center","text-decoration":"underline",cursor:"pointer"},onClick:m=>g(t.shipmentId)},r(t.shipmentDateSeq),9,ee),s("td",{style:{width:"200px",height:"30px","text-decoration":"underline",cursor:"pointer"},onClick:m=>g(t.shipmentId)},r(t.itemName),9,te),s("td",ne,r(t.customerName),1),s("td",le,r(t.releaseUserName),1),s("td",oe,r(V(E)(t.totQty)),1),s("td",ae,r(t.dueDate),1),s("td",se,r(t.releaseTime),1),s("td",ie,r(t.descStorageName),1),s("td",re,[s("p",{style:j([{padding:"4px","text-align":"center",cursor:"pointer"},{backgroundColor:t.printYn==="Y"?"#FFAB91":"transparent"}]),onClick:l[5]||(l[5]=(...m)=>i.onPrint&&i.onPrint(...m))}," 인쇄 ",4)]),s("td",{style:{width:"60px",height:"30px","text-align":"center",cursor:"pointer"},onClick:m=>S(t.shipmentId,t.shipmentDateSeq)},"판매",8,de)])]),_:1},8,["items","loading"])]),_:1})]),_:1}),e(P,{modelValue:d.value,"onUpdate:modelValue":l[7]||(l[7]=t=>d.value=t),width:"900px",height:"400px",persistent:""},{default:n(()=>[e(K,{id:V(_),no:V(f),onCloseDialog:l[6]||(l[6]=t=>d.value=!1)},null,8,["id","no"])]),_:1},8,["modelValue"])],64)}}},xe=Y(ce,[["__scopeId","data-v-ccb94b35"]]);export{xe as default};
