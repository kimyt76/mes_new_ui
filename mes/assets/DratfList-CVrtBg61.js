import{_ as U,r as _,m as q,n as A,c as f,g as e,d as o,w as a,F as k,e as B,o as v,j as I,f as x,t as h,v as M,E as $}from"./index-C-Q3ea6s.js";import{i as j}from"./common-DX12Nz2N.js";import{A as R}from"./apiOrders-VrRkxjij.js";import"./apiCommon-DLJ6uQuV.js";import"./format-CBpsKyOP.js";const z=["onClick"],O=["onClick"],T={__name:"DratfList",setup(G){const y=B(),g=_(!1),d=_([]),n=q({itemName:"",customerName:"",draftNaem:""}),b=_([{title:"문서번호",key:"draftDateSeq",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"고객사명",key:"customerName",align:"start",width:"250px"},{title:"기안일자",key:"draftDate",align:"center",width:"110px"},{title:"기안자",key:"draftUserName",align:"center",width:"100px"}]),c=(r,l)=>{j(r.draftId)?y.push({name:"DraftNew"}):y.push({name:"DraftDetail",params:{id:r.draftId}})},w=async()=>{g.value=!0;const r={...n};d.value=await R.getDraftList(r),g.value=!1};A(()=>{w()});const N=()=>{exportToExcel(b,d.value,"기안서_목록")};return(r,l)=>{const D=o("v-breadcrumbs"),m=o("v-text-field"),i=o("v-btn"),p=o("v-col"),V=o("v-form"),u=o("v-row"),C=o("v-card-text"),S=o("v-card"),L=o("v-spacer"),E=o("v-data-table");return v(),f(k,null,[e(D,{items:["MES","수주관리","기안서관리"],class:"custom-breadcrumbs"}),e(S,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(C,null,{default:a(()=>[e(u,null,{default:a(()=>[e(V,{ref:"srhForm",onSubmit:I(w,["prevent"])},{default:a(()=>[e(p,{class:"d-flex ga-4"},{default:a(()=>[e(m,{modelValue:n.itemName,"onUpdate:modelValue":l[0]||(l[0]=t=>n.itemName=t),label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"180px"}},null,8,["modelValue"]),e(m,{modelValue:n.customerName,"onUpdate:modelValue":l[1]||(l[1]=t=>n.customerName=t),density:"compact",label:"고객사명",placeholder:"고객사명을 입력해주세요",variant:"underlined",style:{width:"180px"}},null,8,["modelValue"]),e(m,{modelValue:n.draftNaem,"onUpdate:modelValue":l[2]||(l[2]=t=>n.draftNaem=t),label:"기안자",placeholder:"기안자명을 입력해주세요",variant:"underlined",density:"compact",style:{width:"150px"}},null,8,["modelValue"]),e(i,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(i,{text:"초기화",onClick:l[3]||(l[3]=t=>r.srhForm.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(L),e(u,null,{default:a(()=>[e(p,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(i,{color:"brown-lighten-4",text:"신규",onClick:c}),e(i,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:N})]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(p,{class:"pa-0"},{default:a(()=>[e(E,{headers:b.value,items:d.value,"items-per-page":15,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요",density:"compact","fixed-header":"",height:"690px"},{headers:a(({columns:t})=>[x("tr",null,[(v(!0),f(k,null,M(t,s=>(v(),f("th",{key:s.key,class:"custom-header",style:$([{height:"40px"},{textAlign:"center"}])},h(s.title),1))),128))])]),"item.draftDateSeq":a(({item:t,index:s})=>[x("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:F=>c(t,s)},h(t.draftDateSeq),9,z)]),"item.itemName":a(({item:t,index:s})=>[x("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:F=>c(t,s)},h(t.itemName),9,O)]),_:1},8,["headers","items"])]),_:1})]),_:1})],64)}}},W=U(T,[["__scopeId","data-v-e727bf6c"]]);export{W as default};
