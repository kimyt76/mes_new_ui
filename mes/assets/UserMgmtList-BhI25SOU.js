import{_ as H,u as q,r,m as z,n as G,c as b,g as l,d as n,w as s,F as I,H as J,o as k,j as K,f as o,h as c,v as i,t as O,U as Q}from"./index-B3k6qWTO.js";import{e as R}from"./exportToExcel-CvGBOhcb.js";import"./_commonjsHelpers-CZnAS8i4.js";const W={class:"d-flex ga-4"},X={class:"d-flex ga-4 justify-end"},Z={style:{height:"40px"}},ee={class:"custom-th",style:{height:"30px"}},te=["onClick"],le={style:{height:"30px","text-align":"center"}},se={style:{height:"30px"}},oe={style:{height:"30px","text-align":"center"}},ne={style:{height:"30px","text-align":"center"}},ae={style:{height:"30px","text-align":"center"}},de={style:{height:"30px","text-align":"center"}},ie={style:{height:"30px"}},re={__name:"UserMgmtList",setup(ue){const{vError:S,vSuccess:Y}=q(),u=r(!1),v=r(!1),V=r(null),_=r([]),p=r(""),h=r("N"),x=r(""),a=z({userId:"",deptNm:"",jobPosition:"",useYn:"Y"}),j=[{text:"재직",value:"Y"},{text:"퇴직",value:"N"}],N=r([{title:"사용자ID",key:"userId"},{title:"사용자명",key:"memberNm"},{title:"부서",key:"deptNm"},{title:"직급",key:"jobPosition"},{title:"전화번호",key:"phone"},{title:"이메일",key:"email"},{title:"재직여부",key:"useYn"},{title:"비고",key:"etc"}]),f=async()=>{v.value=!0;try{const d={...a};_.value=await J.getUserList(d)}catch(d){S(d)}finally{v.value=!1}},U=d=>{d==="N"?(h.value="N",x.value="사용자 등록",p.value=""):(h.value="U",p.value=d,x.value="사용자 상세정보"),u.value=!0},E=()=>{V.value.reset()},P=()=>{R(N,_.value,"사용자_목록")};G(f);const L=d=>{Y(d),f()};return(d,t)=>{const F=n("v-breadcrumbs"),g=n("v-text-field"),M=n("v-select"),m=n("v-btn"),w=n("v-col"),C=n("v-row"),B=n("v-form"),D=n("v-card"),$=n("v-data-table"),A=n("v-sheet"),T=n("v-dialog");return k(),b(I,null,[l(F,{items:["MES","시스템관리","사용자 관리"]}),l(D,{class:"pa-3",style:{height:"80px"}},{default:s(()=>[l(B,{ref_key:"srhForm",ref:V,onSubmit:K(f,["prevent"])},{default:s(()=>[l(C,null,{default:s(()=>[l(w,null,{default:s(()=>[o("div",W,[l(g,{modelValue:a.userId,"onUpdate:modelValue":t[0]||(t[0]=e=>a.userId=e),dense:"",label:"사용자 이름",placeholder:"사용자 이름 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(g,{modelValue:a.jobPosition,"onUpdate:modelValue":t[1]||(t[1]=e=>a.jobPosition=e),dense:"",label:"직급",placeholder:"직급을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(g,{modelValue:a.deptNm,"onUpdate:modelValue":t[2]||(t[2]=e=>a.deptNm=e),label:"부서",placeholder:"부서를 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(M,{modelValue:a.useYn,"onUpdate:modelValue":t[3]||(t[3]=e=>a.useYn=e),label:"재직여부",items:j,"item-title":"text","item-value":"value",variant:"underlined"},null,8,["modelValue"]),l(m,{color:"#EFEBE9",class:"mt-3",type:"submit"},{default:s(()=>t[7]||(t[7]=[c("조회")])),_:1}),l(m,{class:"mt-3",onClick:E},{default:s(()=>t[8]||(t[8]=[c("초기화")])),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1}),l(C,{class:"mb-1"},{default:s(()=>[l(w,null,{default:s(()=>[o("div",X,[l(m,{color:"brown-lighten-4",class:"mt-3",onClick:t[4]||(t[4]=e=>U("N"))},{default:s(()=>t[9]||(t[9]=[c("신규")])),_:1}),l(m,{class:"mt-3 mr-3",onClick:P},{default:s(()=>t[10]||(t[10]=[c("엑셀")])),_:1})])]),_:1})]),_:1}),l(A,{border:"",rounded:""},{default:s(()=>[l($,{headers:N.value,items:_.value,loading:v.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요","items-per-page":25},{headers:s(({columns:e})=>[o("tr",Z,[(k(!0),b(I,null,O(e,y=>(k(),b("th",{key:y.key,class:"custom-header",style:{height:"40px"}},i(y.title),1))),128))])]),item:s(({item:e})=>[o("tr",ee,[o("td",{style:{height:"30px","text-align":"center"},onClick:y=>U(e.userId)},i(e.userId),9,te),o("td",le,i(e.memberNm),1),o("td",se,i(e.deptNm),1),o("td",oe,i(e.jobPosition),1),o("td",ne,i(e.phone),1),o("td",ae,i(e.email),1),o("td",de,i(e.useYn==="Y"?"재직":"퇴직"),1),o("td",ie,i(e.etc),1)])]),_:1},8,["headers","items","loading"])]),_:1}),l(T,{modelValue:u.value,"onUpdate:modelValue":t[6]||(t[6]=e=>u.value=e),"max-width":"800px",persistent:""},{default:s(()=>[l(Q,{mode:h.value,id:p.value,title:x.value,onSaved:L,onCloseDialog:t[5]||(t[5]=e=>u.value=!1)},null,8,["mode","id","title"])]),_:1},8,["modelValue"])],64)}}},_e=H(re,[["__scopeId","data-v-27121944"]]);export{_e as default};
