import{a as $,s as U}from"./index-Z2YNGKhZ.js";import{s as P}from"./index-D49h5Cbk.js";import{s as A}from"./index-Dsa_8OmY.js";import{K as E,A as i,W as B,H as F,e as I,p as e,h as a,l as s,P as M,G as Q,F as Y,o as z,a0 as p,y as c,t as f}from"./index-BCdxernO.js";import{s as K}from"./index-WWuz9eST.js";import{s as G}from"./index-DhHuXiFi.js";import{s as O}from"./index-CKfU0QJd.js";import{s as q}from"./index-BE87lW_G.js";import{A as h}from"./apiCommon-DQdCmI3G.js";import{d as R,l as W}from"./common-Ctgf_4Dl.js";import{e as J}from"./exportToExcel-BIsrPQTg.js";import"./index-BGn1OEmN.js";var X={name:"Calendar",extends:A,mounted:function(){console.warn("Deprecated since v4. Use DatePicker component instead.")}};const Z={class:"flex flex-wrap items-center gap-2 w-full"},ee={class:"flex items-center gap-2"},te={class:"flex items-center justify-end gap-2 mb-2"},oe={__name:"StockList",setup(g){const y=i(null),_=i([]),b=i([]),w=i([]),x=i([]),l=B({type:"",itemTypeCd:"",areaCd:"",itemName:"",itemCd:"",stdDate:R()}),V=i([]),N=async()=>{({...l})},C=d=>{l.stdDate=W(l.stdDate,d)};F(async()=>{b.value=await h.getCodeList("AREA"),w.value=await h.getCodeList("ITEM_TYPE_CD")});const D=i({icon:"pi pi-home"}),H=i([{label:"재고관리"},{label:"재고조회"},{label:"재고목록"}]),j=()=>{var t;const d=((t=y.value)==null?void 0:t.columns)??[];if(!d.length){console.warn("No Columns Found");return}J(matOrderlist.value,"발주 리스트",d)};return(d,t)=>{const L=q,u=O,r=G,v=K,m=Q,S=X,T=P,n=U,k=$;return z(),I(Y,null,[e(L,{home:D.value,model:H.value},null,8,["home","model"]),a("form",{onSubmit:M(N,["prevent"]),class:"space-y-4"},[e(T,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:s(()=>[a("div",Z,[e(r,{variant:"on"},{default:s(()=>[e(u,{modelValue:l.type,"onUpdate:modelValue":t[0]||(t[0]=o=>l.type=o),options:_.value,optionLabel:"codeNm",optionValue:"code",style:{width:"120px"}},null,8,["modelValue","options"]),t[9]||(t[9]=a("label",{for:"on_label"},"정보표시",-1))]),_:1}),e(r,{variant:"on"},{default:s(()=>[e(u,{modelValue:l.itemTypeCd,"onUpdate:modelValue":t[1]||(t[1]=o=>l.itemTypeCd=o),options:w.value,optionLabel:"codeNm",optionValue:"code",style:{width:"120px"}},null,8,["modelValue","options"]),t[10]||(t[10]=a("label",{for:"on_label"},"품목구분",-1))]),_:1}),e(r,{variant:"on"},{default:s(()=>[e(u,{modelValue:l.areaCd,"onUpdate:modelValue":t[2]||(t[2]=o=>l.areaCd=o),options:b.value,optionLabel:"codeNm",optionValue:"code",style:{width:"120px"}},null,8,["modelValue","options"]),t[11]||(t[11]=a("label",{for:"on_label"},"구역(공장)",-1))]),_:1}),e(r,{variant:"on"},{default:s(()=>[e(v,{id:"on_label",modelValue:l.itemName,"onUpdate:modelValue":t[3]||(t[3]=o=>l.itemName=o),style:{width:"180px"}},null,8,["modelValue"]),t[12]||(t[12]=a("label",{for:"on_label"},"품목명",-1))]),_:1}),e(r,{variant:"on"},{default:s(()=>[e(v,{id:"on_label1",modelValue:l.itemCd,"onUpdate:modelValue":t[4]||(t[4]=o=>l.itemCd=o),style:{width:"120px"}},null,8,["modelValue"]),t[13]||(t[13]=a("label",{for:"on_label1"},"품목코드",-1))]),_:1}),a("div",ee,[e(m,{rounded:"",icon:"pi pi-chevron-left",class:"tw-ml-5 p-button-sm",onClick:t[5]||(t[5]=o=>C(-1))}),e(S,{ref:"val_stdDate",modelValue:l.stdDate,"onUpdate:modelValue":t[6]||(t[6]=o=>l.stdDate=o),showIcon:"",dateFormat:"yy-mm-dd",placeholder:"기준일자",class:"tw-w-32 tw-ml-3 tw-mt-1 tw-mr-3"},null,8,["modelValue"]),e(m,{rounded:"",icon:"pi pi-chevron-right",class:"tw-mr-5 p-button-sm",onClick:t[7]||(t[7]=o=>C(1))})]),e(m,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),a("div",te,[e(m,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:j})]),a("div",null,[e(k,{ref_key:"dt",ref:y,selection:x.value,"onUpdate:selection":t[8]||(t[8]=o=>x.value=o),value:V.value,dataKey:"itemCd",paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"700px",scrollable:"",showGridlines:"",selectionMode:"single",tableStyle:"min-width:120rem; table-layout: fixed;",class:"my-table"},{default:s(()=>[e(n,{field:"itemCd",header:"품목코드",style:{width:"120px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"itemName",header:"품목명",style:p([{width:"400px"},{"text-align":"left"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"orderDateSeq",header:"[시화]",frozen:"",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"orderDate",header:"발주일",frozen:"",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"deliveryDate",header:"납기일",style:{width:"80px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"customerName",header:"거래처명",style:{width:"250px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"srcStorageName",header:"입고창고",style:{width:"110px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"orderQty",header:"발주수량",pt:{columnHeaderContent:"justify-center"},style:p([{width:"90px"},{"text-align":"right"}])},{body:s(o=>[c(f(Number(o.data.orderQty).toLocaleString()),1)]),_:1}),e(n,{field:"inQty",header:"입고수량",pt:{columnHeaderContent:"justify-center"},style:p([{width:"90px"},{"text-align":"right"}])},{body:s(o=>[c(f(Number(o.data.inQty).toLocaleString()),1)]),_:1}),e(n,{field:"supplyPrice",header:"공급가액",pt:{columnHeaderContent:"justify-center"},style:p([{width:"90px"},{"text-align":"right"}])},{body:s(o=>[c(f(Number(o.data.supplyPrice).toLocaleString()),1)]),_:1}),e(n,{field:"regYn",header:"입고상태",style:{width:"90px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"endYn",header:"진행상태",style:{width:"90px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"mailYn",header:"발주서발송",style:{width:"100px"},pt:{columnHeaderContent:"justify-center"}}),e(n,{field:"managerName",header:"담당자",style:{width:"90px"},pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["selection","value"])])],64)}}},ye=E(oe,[["__scopeId","data-v-2e1c299f"]]);export{ye as default};
