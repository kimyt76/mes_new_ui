import{u as q,r as d,p as O,k as z,m as H,A as p,q as J,c as K,f as U,g as e,d as m,w as o,F as Q,e as W,o as I,i as c,j as X,b as Z,s as ee}from"./index-C5cV9Y6n.js";import{A as v}from"./apiItem-BwY03PTJ.js";import{p as L,f as G}from"./common-Wz1MS7oe.js";import{C as te}from"./CustomerListPop-BjUQ2IZa.js";import"./format-CBpsKyOP.js";import"./apiBase-COIJwrFN.js";const le=["id"],ae={class:"d-flex ga-4 justify-end"},re={__name:"ItemDetail",setup(oe){const{vError:M,vSuccess:T}=q(),y=d(!1),C=d(!1),g=O(),h=W(),V=d([]),x=d([]),b=d([]),w=d([]),_=d([]),f=d([]),k=[{text:"사용",value:"Y"},{text:"미사용",value:"N"}],E=g.params.id,t=z({itemCd:E,itemTypeCd:"",itemName:"",customerName:"",customerCd:"",itemGrp1:"",itemGrp2:"",useCate:"",inPrice:"",outPrice:"",itemCategory1:"",itemCategory2:"",etc:"",useYn:""});H(async()=>{V.value=await p.getCodeList("ITEM_TYPE_CD"),x.value=await p.getCodeList("ITEM_GRP1"),b.value=await p.getCodeList("ITEM_GRP2");const i=await v.getItemInfo(g.params.id);["M2","M7"].includes(i.itemTypeCd)?(w.value=await p.getCodeList("use_Cate"),_.value=await p.getCodeList("order_cate"),f.value=await p.getCodeList("sub_item"),C.value=!0):(_.value=await v.getProdLList(),f.value=await v.getProdMList(i.itemCategory1)),Object.assign(t,i)});const S=i=>{t.customerCd=i.customerCd,t.customerName=i.customerName},A=async()=>{try{const i={...t},l=await v.updateItemInfo(i);T(l),N()}catch{M("저장에 실패했습니다.")}};J(()=>t.itemCategory1,async i=>{f.value=await v.getProdMList(t.itemCategory1)});const Y=()=>{y.value=!0},N=()=>{h.push({name:"ItemList"})};return(i,l)=>{const B=m("v-breadcrumbs"),R=m("v-card-item"),s=m("v-text-field"),n=m("v-col"),u=m("v-select"),r=m("v-row"),P=m("v-btn"),D=m("v-form"),$=m("v-card-text"),j=m("v-card"),F=m("v-dialog");return I(),K(Q,null,[U("div",{id:i.$attrs.id},null,8,le),e(B,{items:["MES","기본관리","품목관리"]}),e(j,null,{default:o(()=>[e(R,{title:`품목코드 : ${c(g).params.id}`},null,8,["title"]),e($,null,{default:o(()=>[e(D,{onSubmit:X(A,["prevent"])},{default:o(()=>[e(r,null,{default:o(()=>[e(n,{cols:"9",style:{height:"60px"},class:"mt-5"},{default:o(()=>[e(s,{modelValue:t.itemName,"onUpdate:modelValue":l[0]||(l[0]=a=>t.itemName=a),label:"품목명",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"},class:"mt-5"},{default:o(()=>[e(u,{modelValue:t.itemTypeCd,"onUpdate:modelValue":l[1]||(l[1]=a=>t.itemTypeCd=a),label:"품목구분",items:V.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"},class:"mt-5"},{default:o(()=>[C.value?(I(),Z(u,{key:0,modelValue:t.useCate,"onUpdate:modelValue":l[2]||(l[2]=a=>t.useCate=a),label:"사용구분",items:w.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact",readonly:""},null,8,["modelValue","items"])):ee("",!0)]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:t.itemCategory1,"onUpdate:modelValue":l[3]||(l[3]=a=>t.itemCategory1=a),label:"대분류",items:_.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:t.itemCategory2,"onUpdate:modelValue":l[4]||(l[4]=a=>t.itemCategory2=a),label:"중분류",items:f.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:t.customerName,"onUpdate:modelValue":l[5]||(l[5]=a=>t.customerName=a),label:"거래처명",variant:"underlined",density:"compact","append-inner-icon":"mdi-magnify","onClick:appendInner":Y},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:t.itemGrp1,"onUpdate:modelValue":l[6]||(l[6]=a=>t.itemGrp1=a),label:"거래유형",items:x.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:t.itemGrp2,"onUpdate:modelValue":l[7]||(l[7]=a=>t.itemGrp2=a),label:"제품유형",items:b.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:t.unit,"onUpdate:modelValue":l[8]||(l[8]=a=>t.unit=a),label:"단위",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:t.spec,"onUpdate:modelValue":l[9]||(l[9]=a=>t.spec=a),label:"SPEC",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{"model-value":c(G)(t.inPrice),label:"입고단가",variant:"underlined",density:"compact","onUpdate:modelValue":l[10]||(l[10]=a=>t.inPrice=c(L)(a))},null,8,["model-value"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{"model-value":c(G)(t.outPrice),label:"출고단가",variant:"underlined",density:"compact","onUpdate:modelValue":l[11]||(l[11]=a=>t.outPrice=c(L)(a))},null,8,["model-value"])]),_:1}),e(n,{style:{height:"60px"}},{default:o(()=>[e(u,{modelValue:t.useYn,"onUpdate:modelValue":l[12]||(l[12]=a=>t.useYn=a),label:"사용유무",items:k,"item-title":"text","item-value":"value",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(n,{style:{height:"60px"}},{default:o(()=>[e(s,{modelValue:t.etc,"onUpdate:modelValue":l[13]||(l[13]=a=>t.etc=a),label:"비고",variant:"underlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(n,null,{default:o(()=>[U("div",ae,[e(P,{color:"indigo-darken-4",text:"저장",variant:"tonal",type:"submit"}),e(P,{text:"목록",variant:"tonal",onClick:N})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{modelValue:y.value,"onUpdate:modelValue":l[15]||(l[15]=a=>y.value=a),"max-width":"800px",height:"900px",persistent:""},{default:o(()=>[e(te,{onSelected:S,onCloseDialog:l[14]||(l[14]=a=>y.value=!1)})]),_:1},8,["modelValue"])],64)}}};export{re as default};
