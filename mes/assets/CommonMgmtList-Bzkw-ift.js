import{a as F,s as M}from"./index-Z2YNGKhZ.js";import{s as O}from"./index-D49h5Cbk.js";import{M as P,V as R,L as z,A as f,W as $,H as k,e as I,o as h,p as e,h as l,l as a,G as L,F as U,K as G,U as K,P as W,a0 as p,t as T}from"./index-BCdxernO.js";import{s as j}from"./index-CKfU0QJd.js";import{s as Y}from"./index-DhHuXiFi.js";import{s as S}from"./index-WWuz9eST.js";import{s as q}from"./index-BE87lW_G.js";import{A as w}from"./apiCommon-DQdCmI3G.js";import{i as H}from"./common-Ctgf_4Dl.js";import{e as J}from"./exportToExcel-BIsrPQTg.js";import{s as Q}from"./index-CEOpAmiF.js";import{s as X}from"./index-BGn1OEmN.js";const Z={class:"grid mt-2 mb-5"},ee={class:"col-4"},oe={class:"col-4"},te={class:"col-4"},le={class:"grid mb-5"},se={class:"col-4"},ne={class:"col-4"},ae={class:"col-4"},de={class:"grid mb-5"},ie={class:"col-12"},me={class:"flex gap-2 justify-end pt-3"},re={__name:"CommonDetailPop",setup(B){const{userId:V}=P(),c=R("dialogRef"),{vError:v,vSuccess:m}=z(),_=f([]),s=$({comId:"",comTypeCd:"",comTypeNm:"",code:"",codeNm:"",dispOrder:"",useYn:"",discription:"",userId:V});k(async()=>{if(_.value=await w.getCodeList("use_yn"),!H(c.value.data)){s.comId=c.value.data;const r=await w.getCommonInfo(s.comId);Object.assign(s,r)}});const y=async()=>{try{const r={...s},o=await w.saveCommonInfo(r);m(o.data),g()}catch(r){v(r.response.data.message)}},g=()=>{c.value.close()};return(r,o)=>{const d=S,t=Y,N=X,C=j,b=Q,x=L;return h(),I(U,null,[e(b,{style:{width:"50rem",height:"16rem"}},{content:a(()=>[l("div",Z,[l("div",ee,[e(t,{variant:"on"},{default:a(()=>[e(d,{modelValue:s.comTypeCd,"onUpdate:modelValue":o[0]||(o[0]=n=>s.comTypeCd=n),class:"w-full"},null,8,["modelValue"]),o[7]||(o[7]=l("label",null,"공통타입",-1))]),_:1})]),l("div",oe,[e(t,{variant:"on"},{default:a(()=>[e(d,{modelValue:s.comTypeNm,"onUpdate:modelValue":o[1]||(o[1]=n=>s.comTypeNm=n),class:"w-full"},null,8,["modelValue"]),o[8]||(o[8]=l("label",null,"공통타입명",-1))]),_:1})]),l("div",te,[e(t,{variant:"on"},{default:a(()=>[e(N,{modelValue:s.dispOrder,"onUpdate:modelValue":o[2]||(o[2]=n=>s.dispOrder=n),class:"w-full"},null,8,["modelValue"]),o[9]||(o[9]=l("label",null,"순서",-1))]),_:1})])]),l("div",le,[l("div",se,[e(t,{variant:"on"},{default:a(()=>[e(d,{modelValue:s.code,"onUpdate:modelValue":o[3]||(o[3]=n=>s.code=n),class:"w-full"},null,8,["modelValue"]),o[10]||(o[10]=l("label",null,"코드",-1))]),_:1})]),l("div",ne,[e(t,{variant:"on"},{default:a(()=>[e(d,{modelValue:s.codeNm,"onUpdate:modelValue":o[4]||(o[4]=n=>s.codeNm=n),class:"w-full"},null,8,["modelValue"]),o[11]||(o[11]=l("label",null,"코드명",-1))]),_:1})]),l("div",ae,[e(t,{variant:"on"},{default:a(()=>[e(C,{modelValue:s.useYn,"onUpdate:modelValue":o[5]||(o[5]=n=>s.useYn=n),options:_.value,optionLabel:"codeNm",optionValue:"code",class:"w-full"},null,8,["modelValue","options"]),o[12]||(o[12]=l("label",null,"사용유무",-1))]),_:1})])]),l("div",de,[l("div",ie,[e(t,{variant:"on"},{default:a(()=>[e(d,{modelValue:s.discription,"onUpdate:modelValue":o[6]||(o[6]=n=>s.discription=n),class:"w-full"},null,8,["modelValue"]),o[13]||(o[13]=l("label",null,"비고",-1))]),_:1})])])]),_:1}),l("div",me,[e(x,{label:"저장",severity:"secondary",onClick:y}),e(x,{label:"닫기",onClick:g})])],64)}}},ce={class:"flex flex-wrap items-center gap-2 w-full"},ue={class:"flex items-center justify-end gap-2 mb-2"},pe=["onClick"],fe=["onClick"],ve={__name:"CommonMgmtList",setup(B){const V=K(),c=f(null),v=f([]),m=$({comTypeCd:"",codeNm:"",useYn:""}),_=f([]),s=async()=>{const d={...m};v.value=await w.getCommonList(d)};k(async()=>{_.value=await w.getCodeList("USE_YN")});const y=d=>{let t="공통코드 등록";H(d)||(t="공통코드 상세"),V.open(re,{props:{header:t,modal:!0,maximizable:!1,draggable:!0,style:{overflow:"hidden"},pt:{root:{style:{overflow:"hidden"}},content:{style:{overflow:"hidden"}}}},data:d})},g=f({icon:"pi pi-home"}),r=f([{label:"시스템관리"},{label:"공통코드관리"},{label:"공통코드목록"}]),o=()=>{var t;const d=((t=c.value)==null?void 0:t.columns)??[];if(!d.length){console.warn("No Columns Found");return}J(v.value,"공통코드 리스트",d)};return(d,t)=>{const N=q,C=S,b=Y,x=j,n=L,E=O,u=M,A=F;return h(),I(U,null,[e(N,{home:g.value,model:r.value},null,8,["home","model"]),l("form",{onSubmit:W(s,["prevent"]),class:"space-y-4"},[e(E,{class:"flex flex-wrap mt-2 mb-2 gap-1 w-full"},{start:a(()=>[l("div",ce,[e(b,{variant:"on"},{default:a(()=>[e(C,{modelValue:m.comTypeCd,"onUpdate:modelValue":t[0]||(t[0]=i=>m.comTypeCd=i),style:{width:"150px"}},null,8,["modelValue"]),t[4]||(t[4]=l("label",{for:"on_label"},"코드구분",-1))]),_:1}),e(b,{variant:"on"},{default:a(()=>[e(C,{modelValue:m.codeNm,"onUpdate:modelValue":t[1]||(t[1]=i=>m.codeNm=i),style:{width:"180px"}},null,8,["modelValue"]),t[5]||(t[5]=l("label",{for:"jobPosition"},"코드명",-1))]),_:1}),e(b,{variant:"on"},{default:a(()=>[e(x,{modelValue:m.useYn,"onUpdate:modelValue":t[2]||(t[2]=i=>m.useYn=i),options:_.value,optionLabel:"codeNm",optionValue:"code",style:{width:"150px"}},null,8,["modelValue","options"]),t[6]||(t[6]=l("label",{for:"on_label1"},"사용여부",-1))]),_:1}),e(n,{label:"검색",icon:"pi pi-search",type:"submit",class:"bg-blue-500 text-white hover:bg-blue-600"})])]),_:1})],32),l("div",ue,[e(n,{label:"신규",icon:"pi pi-plus",severity:"secondary",onClick:t[3]||(t[3]=i=>y(""))}),e(n,{label:"엑셀",icon:"pi pi-file-excel",severity:"success",onClick:o})]),l("div",null,[e(A,{ref_key:"dt",ref:c,value:v.value,paginator:"",rows:20,rowsPerPageOptions:[20,30,40],scrollHeight:"650px",scrollable:"",showGridlines:"",class:"my-table"},{default:a(()=>[e(u,{field:"comTypeCd",header:"코드구분",style:p([{"text-align":"center"},{width:"120px"}]),pt:{columnHeaderContent:"justify-center"}},{body:a(i=>[l("div",{onClick:D=>y(i.data.comId),class:"clickable-cell"},T(i.data.comTypeCd),9,pe)]),_:1}),e(u,{field:"comTypeNm",header:"구분명",style:p([{"text-align":"center"},{width:"130px"}]),bodyClass:"break-words",pt:{columnHeaderContent:"justify-center"}},{body:a(i=>[l("div",{onClick:D=>y(i.data.comId),class:"clickable-cell"},T(i.data.comTypeNm),9,fe)]),_:1}),e(u,{field:"code",header:"코드",style:p([{"text-align":"center"},{width:"150px"}]),pt:{columnHeaderContent:"justify-center"}}),e(u,{field:"codeNm",header:"코드명",style:p([{"text-align":"center"},{width:"100px"}]),pt:{columnHeaderContent:"justify-center"}}),e(u,{field:"useYn",header:"사용여부",style:p([{"text-align":"center"},{width:"80px"}]),pt:{columnHeaderContent:"justify-center"}}),e(u,{field:"descrition",header:"비고",style:p([{"text-align":"left"},{width:"200px"}]),pt:{columnHeaderContent:"justify-center"}})]),_:1},8,["value"])])],64)}}},Ie=G(ve,[["__scopeId","data-v-2193a380"]]);export{Ie as default};
