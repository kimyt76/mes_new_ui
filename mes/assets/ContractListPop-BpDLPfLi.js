import{A as j}from"./apiOrders-Whxuw2Cj.js";import{r as i,m as B,d as l,b as L,o as T,w as o,g as t,f as g,h as u}from"./index-BNL3Tgw5.js";const A={class:"d-flex ga-4 justify-end"},q={__name:"ContractListPop",emits:["selected","close-contractDialog"],setup(P,{emit:f}){const m=f,v=i(!0),n=B({itemName:"",managerName:"",customerName:""}),s=i(!1),d=i([]),p=i([]),y=[{title:"일자-No.",key:"contractDateSeq",align:"center",width:110},{title:"품목명",key:"itemName",align:"center",width:200},{title:"납기일자",key:"dueDate",align:"center",width:90},{title:"담당자명",key:"managerName",align:"center",width:90},{title:"거래처명",key:"customerName",align:"center",width:150},{title:"주문수량합계",key:"totQty",align:"center",width:100},{title:"주문공급가액합계",key:"totUnitPrice",align:"center",width:100},{title:"진행상태",key:"statusType",align:"center",width:70}],V=async()=>{s.value=!0;const _={...n};p.value=await j.getContractList(_),s.value=!1,setTimeout(()=>{s.value=!1},1e3)},w=()=>{console.log("선택된 행:",d.value),m("selected",d.value),m("close-contractDialog")};return(_,e)=>{const N=l("v-card-title"),c=l("v-text-field"),r=l("v-btn"),k=l("v-col"),x=l("v-row"),b=l("v-data-table"),C=l("v-card-actions"),U=l("v-card"),D=l("v-dialog");return T(),L(D,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a),width:"1000px"},{default:o(()=>[t(U,{class:"pa-4"},{default:o(()=>[t(N,{class:"d-flex justify-space-between align-center"},{default:o(()=>e[6]||(e[6]=[g("span",{class:"text-h6"},"주문 조회",-1)])),_:1}),t(x,{dense:"",class:"mb-4"},{default:o(()=>[t(k,null,{default:o(()=>[g("div",A,[t(c,{modelValue:n.itemName,"onUpdate:modelValue":e[0]||(e[0]=a=>n.itemName=a),label:"품목명",density:"compact"},null,8,["modelValue"]),t(c,{modelValue:n.managerName,"onUpdate:modelValue":e[1]||(e[1]=a=>n.managerName=a),label:"담당자명",density:"compact"},null,8,["modelValue"]),t(c,{modelValue:n.customerName,"onUpdate:modelValue":e[2]||(e[2]=a=>n.customerName=a),label:"거래처명",density:"compact"},null,8,["modelValue"]),t(r,{color:"primary",onClick:V},{default:o(()=>e[7]||(e[7]=[u("조회")])),_:1})])]),_:1})]),_:1}),t(b,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=a=>d.value=a),headers:y,items:p.value,"item-value":"contractId","show-select":"",class:"my-data-table mb-4",loading:s.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회 중입니다...",density:"compact","fixed-header":"",height:"400px","return-object":""},null,8,["modelValue","items","loading"]),t(C,{class:"justify-end"},{default:o(()=>[t(r,{color:"indigo-darken-4",variant:"tonal",onClick:w},{default:o(()=>e[8]||(e[8]=[u("선택")])),_:1}),t(r,{variant:"tonal",onClick:e[4]||(e[4]=a=>m("close-contractDialog"))},{default:o(()=>e[9]||(e[9]=[u("닫기")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{q as _};
