import{A as D}from"./apiOrders-Whxuw2Cj.js";import{r as i,m as S,d as l,b as T,o as B,w as o,g as t,f as g,h as u}from"./index-BNL3Tgw5.js";const L={class:"d-flex ga-4 justify-end"},I={__name:"SaleListPop",emits:["selected","close-contractDialog"],setup(A,{emit:f}){const m=f,p=i(!0),n=S({itemName:"",managerName:"",customerName:""}),s=i(!1),d=i([]),v=i([]),y=[{title:"일자-No.",key:"saleDateSeq",align:"center",width:110},{title:"품목명",key:"itemName",align:"center",width:200},{title:"거래처명",key:"customerName",align:"center",width:150},{title:"담당자명",key:"managerName",align:"center",width:90},{title:"거래유형",key:"transactionTypeName",align:"center",width:90},{title:"금액합계",key:"totPrice",align:"center",width:90},{title:"진행상태",key:"statusType",align:"center",width:70}],V=async()=>{s.value=!0;const _={...n};v.value=await D.getSaleList(_),s.value=!1,setTimeout(()=>{s.value=!1},1e3)},N=()=>{console.log("선택된 행:",d.value),m("selected",d.value),m("close-saleDialog")};return(_,e)=>{const w=l("v-card-title"),r=l("v-text-field"),c=l("v-btn"),x=l("v-col"),b=l("v-row"),k=l("v-data-table"),C=l("v-card-actions"),U=l("v-card"),j=l("v-dialog");return B(),T(j,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=a=>p.value=a),width:"1000px"},{default:o(()=>[t(U,{class:"pa-4"},{default:o(()=>[t(w,{class:"d-flex justify-space-between align-center"},{default:o(()=>e[6]||(e[6]=[g("span",{class:"text-h6"},"판매 조회",-1)])),_:1}),t(b,{dense:"",class:"mb-4"},{default:o(()=>[t(x,null,{default:o(()=>[g("div",L,[t(r,{modelValue:n.itemName,"onUpdate:modelValue":e[0]||(e[0]=a=>n.itemName=a),label:"품목명",density:"compact"},null,8,["modelValue"]),t(r,{modelValue:n.managerName,"onUpdate:modelValue":e[1]||(e[1]=a=>n.managerName=a),label:"담당자명",density:"compact"},null,8,["modelValue"]),t(r,{modelValue:n.customerName,"onUpdate:modelValue":e[2]||(e[2]=a=>n.customerName=a),label:"거래처명",density:"compact"},null,8,["modelValue"]),t(c,{color:"primary",onClick:V},{default:o(()=>e[7]||(e[7]=[u("조회")])),_:1})])]),_:1})]),_:1}),t(k,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=a=>d.value=a),headers:y,items:v.value,"item-value":"saleId","show-select":"",class:"my-data-table mb-4",loading:s.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회 중입니다...",density:"compact","fixed-header":"",height:"400px","return-object":""},null,8,["modelValue","items","loading"]),t(C,{class:"justify-end"},{default:o(()=>[t(c,{color:"indigo-darken-4",variant:"tonal",onClick:N},{default:o(()=>e[8]||(e[8]=[u("선택")])),_:1}),t(c,{variant:"tonal",onClick:e[4]||(e[4]=a=>m("close-saleDialog"))},{default:o(()=>e[9]||(e[9]=[u("닫기")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{I as _};
