import{L as B,r as u,k as D,m as R,c as U,g as e,d as n,w as a,F as A,e as O,o as T,j as $,h as y,t as _,i as w,f as q}from"./index-CSVU4KnH.js";import{e as H}from"./exportToExcel-Kkbtezxo.js";import{i as b,f as k}from"./common-Vxxi2eVn.js";import{A as I}from"./apiLab-0paF4Abw.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const z=["onClick"],x="MaterialList",ee={__name:"MaterialList",setup(G){const c=B(),N=O(),C=u(!1),f=u(null),s=u([]),i=D({itemName:"",itemCd:"",ingredientName:""}),g=[{title:"No.",key:"rowNum",align:"center",width:"30px"},{title:"품목코드",key:"itemCd",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"거래처",key:"customerName",align:"start",width:"200px"},{title:"제조원",key:"qty",align:"center",width:"100px"},{title:"입고단가",key:"inPrice",align:"end",width:"100px"},{title:"출고단가",key:"outPrice",align:"end",width:"100px"},{title:"Vegan",key:"vegan",align:"center",width:"60px"},{title:"Halal",key:"halal",align:"center",width:"60px"},{title:"RSPO",key:"rspo",align:"center",width:"60px"}],v=async()=>{const l={...i};s.value=await I.getMaterialItemList(l),b(l)||(c.setSearchParams(x,l),c.setListData(x,s))},h=(l,o)=>{N.push({name:"MaterialDetail",params:{id:l.itemCd}})};R(async()=>{const l=c.getPage(x);b(l.searchParams)||(Object.assign(i,l.searchParams),v())});const V=()=>{H(g,s.value,"원료_목록")};return(l,o)=>{const P=n("v-breadcrumbs"),m=n("v-text-field"),r=n("v-btn"),d=n("v-col"),L=n("v-form"),p=n("v-row"),M=n("v-card-text"),S=n("v-card"),E=n("v-spacer"),F=n("v-data-table");return T(),U(A,null,[e(P,{items:["MES","연구관리","원료정보"],class:"custom-breadcrumbs"}),e(S,{class:"pa-1",style:{height:"60px"}},{default:a(()=>[e(M,null,{default:a(()=>[e(p,null,{default:a(()=>[e(L,{ref_key:"srhForm",ref:f,onSubmit:$(v,["prevent"])},{default:a(()=>[e(d,{class:"d-flex ga-4"},{default:a(()=>[e(m,{modelValue:i.itemName,"onUpdate:modelValue":o[0]||(o[0]=t=>i.itemName=t),label:"품목명",density:"compact",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(m,{modelValue:i.itemCd,"onUpdate:modelValue":o[1]||(o[1]=t=>i.itemCd=t),label:"품목코드",density:"compact",variant:"underlined",placeholder:"품목명를 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(m,{modelValue:i.ingredientName,"onUpdate:modelValue":o[2]||(o[2]=t=>i.ingredientName=t),label:"성분명",density:"compact",variant:"underlined",placeholder:"성분명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(r,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(r,{text:"초기화",onClick:o[3]||(o[3]=t=>f.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(E),e(p,null,{default:a(()=>[e(d,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:a(()=>[e(r,{color:"brown-lighten-4",text:"신규",onClick:h}),e(r,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:V})]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(d,{class:"pa-0"},{default:a(()=>[e(F,{headers:g,items:s.value,loading:C.value,density:"compact","fixed-header":"","items-per-page":15,height:"720px",class:"custom-table"},{"item.itemName":a(({item:t,index:j})=>[q("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:J=>h(t,j)},_(t.itemName),9,z)]),"item.inPrice":a(({item:t})=>[y(_(w(k)(t.inPrice)),1)]),"item.outPrice":a(({item:t})=>[y(_(w(k)(t.outPrice)),1)]),_:1},8,["items","loading"])]),_:1})]),_:1})],64)}}};export{ee as default};
