import{O as j,r as g,k as A,m as B,c as O,g as e,d as i,w as s,F as R,e as T,o as $,j as q,h as y,t as _,i as w,f as H}from"./index-DjI8e8VZ.js";import{e as I}from"./exportToExcel-Kkbtezxo.js";import{i as b,f as k}from"./common-DeQ1G7iv.js";import{A as z}from"./apiLab-C2sC-jhp.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-DWu4U6B8.js";const G=j("commonListStore",{state:()=>({pages:{}}),actions:{setSearchParams(t,r){this.pages[t]||(this.pages[t]={}),this.pages[t].searchParams={...r}},setListData(t,r){this.pages[t]||(this.pages[t]={}),this.pages[t].listData=r,this.pages[t].lastUpdated=new Date().getTime()},getPage(t){return this.pages[t]||{searchParams:{},listData:[]}},clearPage(t){delete this.pages[t]},clearAll(){this.pages={}}}}),J=["onClick"],h="MaterialList",te={__name:"MaterialList",setup(t){const r=G(),P=T(),C=g(!1),f=g(null),c=g([]),o=A({itemName:"",itemCd:"",ingredientName:""}),x=[{title:"No.",key:"rowNum",align:"center",width:"30px"},{title:"품목코드",key:"itemCd",align:"center",width:"120px"},{title:"품목명",key:"itemName",align:"start",width:"400px"},{title:"거래처",key:"customerName",align:"start",width:"200px"},{title:"제조원",key:"qty",align:"center",width:"100px"},{title:"입고단가",key:"inPrice",align:"end",width:"100px"},{title:"출고단가",key:"outPrice",align:"end",width:"100px"},{title:"Vegan",key:"vegan",align:"center",width:"60px"},{title:"Halal",key:"halal",align:"center",width:"60px"},{title:"RSPO",key:"rspo",align:"center",width:"60px"}],v=async()=>{const l={...o};c.value=await z.getMaterialItemList(l),b(l)||(r.setSearchParams(h,l),r.setListData(h,c))},V=(l,n)=>{P.push({name:"MaterialDetail",params:{id:l.itemCd}})};B(async()=>{const l=r.getPage(h);b(l.searchParams)||(Object.assign(o,l.searchParams),v())});const N=()=>{I(x,c.value,"원료_목록")};return(l,n)=>{const L=i("v-breadcrumbs"),m=i("v-text-field"),d=i("v-btn"),p=i("v-col"),S=i("v-form"),u=i("v-row"),M=i("v-card-text"),D=i("v-card"),E=i("v-spacer"),F=i("v-data-table");return $(),O(R,null,[e(L,{items:["MES","연구관리","원료정보"],class:"custom-breadcrumbs"}),e(D,{class:"pa-1",style:{height:"60px"}},{default:s(()=>[e(M,null,{default:s(()=>[e(u,null,{default:s(()=>[e(S,{ref_key:"srhForm",ref:f,onSubmit:q(v,["prevent"])},{default:s(()=>[e(p,{class:"d-flex ga-4"},{default:s(()=>[e(m,{modelValue:o.itemName,"onUpdate:modelValue":n[0]||(n[0]=a=>o.itemName=a),label:"품목명",density:"compact",variant:"underlined",placeholder:"품목명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(m,{modelValue:o.itemCd,"onUpdate:modelValue":n[1]||(n[1]=a=>o.itemCd=a),label:"품목코드",density:"compact",variant:"underlined",placeholder:"품목명를 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(m,{modelValue:o.ingredientName,"onUpdate:modelValue":n[2]||(n[2]=a=>o.ingredientName=a),label:"성분명",density:"compact",variant:"underlined",placeholder:"성분명을 입력해주세요",style:{width:"150px"}},null,8,["modelValue"]),e(d,{text:"조회",color:"brown-lighten-4",type:"submit"}),e(d,{text:"초기화",onClick:n[3]||(n[3]=a=>f.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(E),e(u,null,{default:s(()=>[e(p,{class:"d-flex justify-end align-center mr-2",style:{gap:"10px","margin-top":"10px"}},{default:s(()=>[e(d,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:N})]),_:1})]),_:1}),e(u,null,{default:s(()=>[e(p,{class:"pa-0"},{default:s(()=>[e(F,{headers:x,items:c.value,loading:C.value,density:"compact","fixed-header":"","items-per-page":15,height:"720px",class:"custom-table"},{"item.itemName":s(({item:a,index:U})=>[H("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:K=>V(a,U)},_(a.itemName),9,J)]),"item.inPrice":s(({item:a})=>[y(_(w(k)(a.inPrice)),1)]),"item.outPrice":s(({item:a})=>[y(_(w(k)(a.outPrice)),1)]),_:1},8,["items","loading"])]),_:1})]),_:1})],64)}}};export{te as default};
