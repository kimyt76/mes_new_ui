import{a as j,r as i,m as B,n as q,c as D,g as t,d as s,w as o,F as R,e as $,o as G,j as z,h as f,t as c,i as V,f as H}from"./index-BNL3Tgw5.js";import{e as J}from"./exportToExcel-Kkbtezxo.js";import{A as K}from"./apiItem-CL-1bRvd.js";import{A as k}from"./apiCommon-LY9rUrf-.js";import{f as N,i as O}from"./common-BOBTT4pT.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const Q=["onClick"],ne={__name:"ItemList",setup(W){const{userId:I}=j(),d=$(),u=i(!1),x=i(null),p=i([]),m=i(null),g=i([]),w=i([]),a=B({itemTypeCd:"",itemName:"",itemCd:"",customerName:"",useYn:"Y",userId:I}),C=i([{title:"품목코드",key:"itemCd",align:"center",width:"80px"},{title:"품목명",key:"itemName",align:"start",width:"250px"},{title:"단위",key:"unit",align:"center",width:"70px"},{title:"규격",key:"spec",align:"center",width:"100px"},{title:"구매처",key:"customerName",align:"left",width:"200px"},{title:"입고단가",key:"inPrice",align:"end",width:"100px"},{title:"출고단가",key:"outPrice",align:"end",width:"100px"},{title:"제품유형",key:"itemGrp2Name",align:"center",width:"110px"},{title:"사용",key:"useYn",align:"center",width:"70px"}]),h=async()=>{u.value=!0;const n={...a};p.value=await K.getItemList(n),u.value=!1},T=()=>{if(O(m.value))d.push({name:"ItemNewCd"});else{const n=m.value[0].itemCd,l=m.value[0].itemTypeCd;l==="M4"?d.push({name:"ItemSubCd",query:{id:n,type:l}}):["M0","M3","M5","M6"].includes(l)&&d.push({name:"ItemThird",query:{id:n,type:l}})}},Y=(n,l)=>{d.push({name:"ItemDetail",params:{id:n.itemCd}})};q(async()=>{g.value=await k.getCodeList("item_Type_Cd"),w.value=await k.getCodeList("use_yn"),h()});const M=async()=>{J(C,p.value,"품목정보_목록")};return(n,l)=>{const L=s("v-breadcrumbs"),b=s("v-select"),v=s("v-text-field"),r=s("v-btn"),_=s("v-col"),P=s("v-form"),y=s("v-row"),U=s("v-card-text"),A=s("v-card"),S=s("v-spacer"),E=s("v-data-table");return G(),D(R,null,[t(L,{items:["MES","기본관리","품목관리"],class:"custom-breadcrumbs"}),t(A,null,{default:o(()=>[t(U,null,{default:o(()=>[t(y,{class:"custom-height"},{default:o(()=>[t(P,{ref_key:"srhForm",ref:x,onSubmit:z(h,["prevent"])},{default:o(()=>[t(_,{class:"d-flex flex-row ga-3"},{default:o(()=>[t(b,{modelValue:a.itemTypeCd,"onUpdate:modelValue":l[0]||(l[0]=e=>a.itemTypeCd=e),label:"품목구분",density:"compact",items:g.value,"item-title":"codeNm","item-value":"code",style:{width:"150px"}},null,8,["modelValue","items"]),t(v,{modelValue:a.itemName,"onUpdate:modelValue":l[1]||(l[1]=e=>a.itemName=e),label:"품목명",density:"compact",style:{width:"200px"},placeholder:"품목명을 입력해주세요"},null,8,["modelValue"]),t(v,{modelValue:a.itemCd,"onUpdate:modelValue":l[2]||(l[2]=e=>a.itemCd=e),label:"품목코드",density:"compact",style:{width:"200px"},placeholder:"품목코드를 입력해주세요"},null,8,["modelValue"]),t(v,{modelValue:a.customerName,"onUpdate:modelValue":l[3]||(l[3]=e=>a.customerName=e),label:"거래처명",density:"compact",style:{width:"200px"},placeholder:"거래처명을 입력해주세요"},null,8,["modelValue"]),t(b,{modelValue:a.useYn,"onUpdate:modelValue":l[4]||(l[4]=e=>a.useYn=e),label:"사용여부",density:"compact",items:w.value,"item-title":"codeNm","item-value":"code",style:{width:"150px"}},null,8,["modelValue","items"]),t(r,{text:"조회",color:"brown-lighten-4",type:"submit"}),t(r,{text:"초기화",onClick:l[5]||(l[5]=e=>x.value.reset())})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),t(S),t(y,null,{default:o(()=>[t(_,{class:"d-flex justify-end align-center mr-2",style:{gap:"8px","margin-top":"8px"}},{default:o(()=>[t(r,{color:"brown-lighten-4",text:"신규",onClick:T}),t(r,{class:"excel-btn",text:"엑셀","prepend-icon":"mdi-microsoft-excel",onClick:M})]),_:1})]),_:1}),t(y,null,{default:o(()=>[t(_,null,{default:o(()=>[t(E,{modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=e=>m.value=e),headers:C.value,items:p.value,"items-per-page":20,loading:u.value,"item-value":"itemCd","fixed-header":"",height:"620px","show-select":"","single-select":"",density:"compact",class:"custom-table","return-object":""},{"item.itemName":o(({item:e,index:F})=>[H("div",{style:{cursor:"pointer","text-decoration":"underline"},onClick:X=>Y(e,F)},c(e.itemName),9,Q)]),"item.inPrice":o(({item:e})=>[f(c(V(N)(e.inPrice)),1)]),"item.outPrice":o(({item:e})=>[f(c(V(N)(e.outPrice)),1)]),"item.useYn":o(({item:e})=>[f(c(e.useYn==="Y"?"사용":"미사용"),1)]),_:1},8,["modelValue","headers","items","loading"])]),_:1})]),_:1})],64)}}};export{ne as default};
