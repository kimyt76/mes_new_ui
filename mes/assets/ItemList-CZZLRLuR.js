import{_ as R,u as H,a as J,r,m as K,n as O,c as C,g as l,d as a,w as n,F as S,e as Q,o as k,j as W,f as o,h,v as i,i as A,t as X,x as Z}from"./index-B3k6qWTO.js";import{A as ee}from"./apiCommon-Cgp-9u3n.js";import{A as te}from"./apiItem-BPoKeJui.js";import{e as le}from"./exportToExcel-CvGBOhcb.js";import{f as L,i as oe}from"./common-5ptPHjCv.js";import"./_commonjsHelpers-CZnAS8i4.js";import"./format-CBpsKyOP.js";const ne={class:"d-flex ga-4"},se={class:"d-flex ga-4 justify-end"},ae={style:{height:"30px"}},ie={style:{width:"40px",height:"30px"}},de=["onClick"],re=["onClick"],me={style:{width:"90px",height:"30px","text-align":"center"}},ue={style:{width:"100px",height:"30px","text-align":"center"}},ce={style:{width:"100px",height:"30px","text-align":"center"}},pe={style:{width:"200px",height:"30px","text-align":"left"}},ve={style:{width:"100px",height:"30px","text-align":"right"}},_e={style:{width:"100px",height:"30px","text-align":"right"}},he={style:{width:"150px",height:"30px","text-align":"center"}},xe={__name:"ItemList",setup(ge){const{vError:U}=H(),{userId:Y}=J(),b=r(null),x=r([]),g=r(!1),w=r([]),s=K({itemTypeCd:"",itemNm:null,itemCd:null,customerName:null,useYn:"Y",userId:Y}),p=r([]),c=r(""),m=r(""),F=(d,t,y)=>{d?(p.value=t,c.value=t,m.value=y):p.value===t&&(p.value=null,c.value="",m.value="")},P=[{text:"사용",value:"Y"},{text:"미사용",value:"N"}],N=r([{title:"품목코드",key:"itemCd",align:"center"},{title:"품목명",key:"itemName",align:"center"},{title:"품목구분",key:"itemTypeCd",align:"center"},{title:"단위",key:"unit",align:"center"},{title:"규격",key:"spec",align:"center"},{title:"구매처",key:"customerName",align:"center"},{title:"입고단가",key:"inPrice",align:"center"},{title:"출고단가",key:"outPrice",align:"center"},{title:"제품유형",key:"itemGrp2Name",align:"center"}]),v=Q(),B=()=>{oe(c.value)?v.push({name:"ItemNewCd"}):m.value==="M4"?v.push({name:"ItemSubCd",query:{id:c.value,type:m.value}}):["M0","M3","M5","M6"].includes(m.value)&&v.push({name:"ItemThird",query:{id:c.value,type:m.value}})},V=d=>{v.push({name:"ItemDetail",params:{id:d}})},D=()=>{b.value.reset()};O(async()=>{w.value=await ee.getCodeList("ITEM_TYPE_CD"),I()});const I=async()=>{g.value=!0;try{const d={...s};x.value=await te.getItemList(d)}catch(d){U(d)}finally{g.value=!1}},$=()=>{le(N,x.value,"폼목정보_목록")};return(d,t)=>{const y=a("v-breadcrumbs"),T=a("v-select"),f=a("v-text-field"),_=a("v-btn"),j=a("v-form"),E=a("v-col"),M=a("v-row"),q=a("v-card"),G=a("v-checkbox"),z=a("v-data-table");return k(),C(S,null,[l(y,{items:["MES","기본관리","품목관리"],class:"custom-breadcrumbs"}),l(q,{class:"pa-1",style:{height:"60px"}},{default:n(()=>[l(M,null,{default:n(()=>[l(E,null,{default:n(()=>[l(j,{ref_key:"srhForm",ref:b,onSubmit:W(I,["prevent"])},{default:n(()=>[o("div",ne,[l(T,{modelValue:s.itemTypeCd,"onUpdate:modelValue":t[0]||(t[0]=e=>s.itemTypeCd=e),label:"품목구분",items:w.value,"item-title":"codeNm","item-value":"code",variant:"underlined",density:"compact"},null,8,["modelValue","items"]),l(f,{modelValue:s.itemNm,"onUpdate:modelValue":t[1]||(t[1]=e=>s.itemNm=e),density:"compact",label:"품목명",placeholder:"품목명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(f,{modelValue:s.itemCd,"onUpdate:modelValue":t[2]||(t[2]=e=>s.itemCd=e),density:"compact",label:"품목코드",placeholder:"품목코드를 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(f,{modelValue:s.customerName,"onUpdate:modelValue":t[3]||(t[3]=e=>s.customerName=e),density:"compact",label:"거래처명",placeholder:"거래처명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),l(T,{modelValue:s.useYn,"onUpdate:modelValue":t[4]||(t[4]=e=>s.useYn=e),label:"사용여부",items:P,"item-title":"text","item-value":"value",variant:"underlined",density:"compact"},null,8,["modelValue"]),l(_,{color:"#EFEBE9",type:"submit"},{default:n(()=>t[6]||(t[6]=[h("조회")])),_:1}),l(_,{class:"mr-2",onClick:D},{default:n(()=>t[7]||(t[7]=[h("초기화")])),_:1})])]),_:1},512)]),_:1})]),_:1})]),_:1}),l(M,{class:"mb-1"},{default:n(()=>[l(E,null,{default:n(()=>[o("div",se,[l(_,{color:"brown-lighten-4",class:"mt-3",onClick:t[5]||(t[5]=e=>B())},{default:n(()=>t[8]||(t[8]=[h("신규")])),_:1}),l(_,{class:"mt-3 mr-3",onClick:$},{default:n(()=>t[9]||(t[9]=[h("엑셀")])),_:1})])]),_:1})]),_:1}),l(z,{headers:N.value,items:x.value,loading:g.value,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요","items-per-page":25,"show-select":"",style:{height:"700px"}},{headers:n(({columns:e})=>[o("tr",null,[(k(!0),C(S,null,X(e,u=>(k(),C("th",{key:u.key,class:"custom-header",style:Z([{height:"30px"},{textAlign:"center"}])},i(u.title),1))),128))])]),item:n(({item:e})=>[o("tr",ae,[o("td",ie,[l(G,{style:{width:"30px",height:"50px","vertical-align":"middle"},"model-value":p.value===e.itemCd,"onUpdate:modelValue":u=>F(u,e.itemCd,e.itemTypeCd)},null,8,["model-value","onUpdate:modelValue"])]),o("td",{style:{width:"90px",height:"30px","text-align":"center",cursor:"pointer"},onClick:u=>V(e.itemCd)},i(e.itemCd),9,de),o("td",{style:{width:"300px",height:"30px","text-decoration":"underline",cursor:"pointer"},onClick:u=>V(e.itemCd)},i(e.itemName),9,re),o("td",me,i(e.itemTypeName),1),o("td",ue,i(e.unit),1),o("td",ce,i(e.spec),1),o("td",pe,i(e.customerName),1),o("td",ve,i(A(L)(e.inPrice)),1),o("td",_e,i(A(L)(e.outPrice)),1),o("td",he,i(e.itemGrp2Name),1)])]),_:1},8,["headers","items","loading"])],64)}}},Ve=R(xe,[["__scopeId","data-v-933a6cc4"]]);export{Ve as default};
