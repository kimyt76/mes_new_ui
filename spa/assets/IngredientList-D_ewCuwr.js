import{d as o,c as p,o as f,g as e,w as n,h as u,F as x,_ as M,u as P,r,k as T,j as R,f as k,m as q,t as z}from"./index-CW10mm3L.js";import{e as G}from"./exportToExcel-BTkYpchh.js";const H={__name:"IngredientRegPop",props:{title:{type:String},id:{type:String},mode:{type:String}},emits:["saved","close-dialog"],setup(w,{emit:g}){const N=g,d=()=>{};return(m,a)=>{const c=o("v-card-item"),s=o("v-card"),v=o("v-btn");return f(),p(x,null,[e(s,null,{default:n(()=>[e(c,null,{default:n(()=>a[1]||(a[1]=[u(' :title="props.title" ')])),_:1})]),_:1}),e(v,{color:"indigo-darken-4",text:"저장",variant:"tonal",depressed:"",onClick:d}),e(v,{text:"닫기",variant:"tonal",onClick:a[0]||(a[0]=y=>N("close-dialog"))})],64)}}},J={class:"d-flex ga-4"},K={class:"d-flex ga-4 justify-end"},O={style:{height:"40px"}},Q={__name:"IngredientList",setup(w){const{vError:g,vSuccess:N}=P(),d=r(!1),m=r(!1),a=r(null),c=r([]),s=T({ingredienName:"",functionNm:""}),v=async()=>{m.value=!0;try{const i={...s}}catch(i){g("조회 중 오류가 발생했습니다."+i)}finally{m.value=!1}},y=r([{title:"성분코드",key:"IngredientCode"},{title:"국문성분명",key:"krIngredientName"},{title:"CAS No",key:"casNo"},{title:"function",key:"functionNm"},{title:"수정자",key:"updNm"},{title:"수정일자",key:"updDt"},{title:"비고",key:"etc"}]),F=()=>{},C=r(""),V=r(""),I=i=>{C.value="N",V.value="성분 등록",d.value=!0},L=()=>{G(y,c.value,"성분_목록")},B=()=>{a.value.reset()};return(i,t)=>{const U=o("v-breadcrumbs"),b=o("v-text-field"),_=o("v-btn"),S=o("v-col"),E=o("v-row"),$=o("v-form"),D=o("v-card"),j=o("v-data-table"),A=o("v-dialog");return f(),p(x,null,[e(U,{items:["MES","연구관리","성분정보"]}),e(D,{class:"pa-3",color:"blue-grey-lighten-5"},{default:n(()=>[e($,{ref_key:"srhForm",ref:a,onSubmit:R(v,["prevent"])},{default:n(()=>[e(E,null,{default:n(()=>[e(S,{style:{"background-color":"#ECEFF1"}},{default:n(()=>[k("div",J,[e(b,{modelValue:s.ingredienName,"onUpdate:modelValue":t[0]||(t[0]=l=>s.ingredienName=l),label:"성분명",placeholder:"성분명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(b,{modelValue:s.functionNm,"onUpdate:modelValue":t[1]||(t[1]=l=>s.functionNm=l),label:"function명",placeholder:"function명을 입력해주세요",variant:"underlined"},null,8,["modelValue"]),e(b,{label:"등록자",placeholder:"등록자를 입력해주세요",variant:"underlined"}),e(_,{color:"#EFEBE9",class:"mt-3",type:"submit"},{default:n(()=>t[5]||(t[5]=[u("조회")])),_:1}),e(_,{onClick:B,class:"mt-3"},{default:n(()=>t[6]||(t[6]=[u("초기화")])),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(E,{class:"mb-1"},{default:n(()=>[e(S,null,{default:n(()=>[k("div",K,[e(_,{color:"brown-lighten-4",class:"mt-3",onClick:t[2]||(t[2]=l=>I("N"))},{default:n(()=>t[7]||(t[7]=[u("신규")])),_:1}),e(_,{onClick:L,class:"mt-3 mr-3"},{default:n(()=>t[8]||(t[8]=[u("엑셀")])),_:1})])]),_:1})]),_:1}),e(j,{headers:y.value,loading:m.value,items:c.value,"items-per-page":25,"no-data-text":"데이터가 없습니다.","loading-text":"조회중입니다 잠시만 기다려주세요"},{headers:n(({columns:l})=>[k("tr",O,[(f(!0),p(x,null,q(l,h=>(f(),p("th",{key:h.key,class:"custom-header",style:{height:"40px"}},z(h.title),1))),128))])]),_:1},8,["headers","loading","items"]),e(A,{modelValue:d.value,"onUpdate:modelValue":t[4]||(t[4]=l=>d.value=l),"max-width":"800px",persistent:""},{default:n(()=>[e(H,{title:V.value,mode:C.value,id:i.ingredientCode,onSaved:F,onCloseDialog:t[3]||(t[3]=l=>d.value=!1)},null,8,["title","mode","id"])]),_:1},8,["modelValue"])],64)}}},Y=M(Q,[["__scopeId","data-v-d839e39b"]]);export{Y as default};
